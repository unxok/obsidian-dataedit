"use strict";var Ts=Object.defineProperty;var Ls=(e,t,n)=>t in e?Ts(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var de=(e,t,n)=>Ls(e,typeof t!="symbol"?t+"":t,n);const ce=require("obsidian"),Ps={context:void 0,registry:void 0},$s=(e,t)=>e===t,Se=Symbol("solid-proxy"),Ft=Symbol("solid-track"),tn={equals:$s};let To=Do;const Ve=1,nn=2,Lo={owned:null,cleanups:null,context:null,owner:null};var H=null;let Dn=null,Ds=null,Z=null,ae=null,Fe=null,hn=0;function _e(e,t){const n=Z,r=H,o=e.length===0,i=t===void 0?r:t,s=o?Lo:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=o?e:()=>e(()=>ie(()=>pn(s)));H=s,Z=null;try{return st(l,!0)}finally{Z=n,H=r}}function L(e,t){t=t?Object.assign({},tn,t):tn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),$o(n,o));return[Po.bind(n),r]}function Ms(e,t,n){const r=mn(e,t,!0,Ve);xt(r)}function z(e,t,n){const r=mn(e,t,!1,Ve);xt(r)}function R(e,t,n){To=Vs;const r=mn(e,t,!1,Ve);(!n||!n.render)&&(r.user=!0),Fe?Fe.push(r):xt(r)}function P(e,t,n){n=n?Object.assign({},tn,n):tn;const r=mn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,xt(r),Po.bind(r)}function Fs(e){return st(e,!1)}function ie(e){if(Z===null)return e();const t=Z;Z=null;try{return e()}finally{Z=t}}function Xe(e,t,n){const r=Array.isArray(e);let o,i=n&&n.defer;return s=>{let l;if(r){l=Array(e.length);for(let c=0;c<e.length;c++)l[c]=e[c]()}else l=e();if(i)return i=!1,s;const a=ie(()=>t(l,o,s));return o=l,a}}function Bt(e){R(()=>ie(e))}function j(e){return H===null||(H.cleanups===null?H.cleanups=[e]:H.cleanups.push(e)),e}function Wn(){return Z}function _s(){return H}function Ks(e,t){const n=H,r=Z;H=e,Z=null;try{return st(t,!0)}catch(o){ur(o)}finally{H=n,Z=r}}function ze(e,t){const n=Symbol("context");return{id:n,Provider:Bs(n),defaultValue:e}}function Be(e){return H&&H.context&&H.context[e.id]!==void 0?H.context[e.id]:e.defaultValue}function cr(e){const t=P(e),n=P(()=>Un(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Po(){if(this.sources&&this.state)if(this.state===Ve)xt(this);else{const e=ae;ae=null,st(()=>on(this),!1),ae=e}if(Z){const e=this.observers?this.observers.length:0;Z.sources?(Z.sources.push(this),Z.sourceSlots.push(e)):(Z.sources=[this],Z.sourceSlots=[e]),this.observers?(this.observers.push(Z),this.observerSlots.push(Z.sources.length-1)):(this.observers=[Z],this.observerSlots=[Z.sources.length-1])}return this.value}function $o(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&st(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],s=Dn&&Dn.running;s&&Dn.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?ae.push(i):Fe.push(i),i.observers&&Mo(i)),s||(i.state=Ve)}if(ae.length>1e6)throw ae=[],new Error},!1)),t}function xt(e){if(!e.fn)return;pn(e);const t=hn;Rs(e,e.value,t)}function Rs(e,t,n){let r;const o=H,i=Z;Z=H=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=Ve,e.owned&&e.owned.forEach(pn),e.owned=null),e.updatedAt=n+1,ur(s)}finally{Z=i,H=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?$o(e,r):e.value=r,e.updatedAt=n)}function mn(e,t,n,r=Ve,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:H,context:H?H.context:null,pure:n};return H===null||H!==Lo&&(H.owned?H.owned.push(i):H.owned=[i]),i}function rn(e){if(e.state===0)return;if(e.state===nn)return on(e);if(e.suspense&&ie(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<hn);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Ve)xt(e);else if(e.state===nn){const r=ae;ae=null,st(()=>on(e,t[0]),!1),ae=r}}function st(e,t){if(ae)return e();let n=!1;t||(ae=[]),Fe?n=!0:Fe=[],hn++;try{const r=e();return Ns(n),r}catch(r){n||(Fe=null),ae=null,ur(r)}}function Ns(e){if(ae&&(Do(ae),ae=null),e)return;const t=Fe;Fe=null,t.length&&st(()=>To(t),!1)}function Do(e){for(let t=0;t<e.length;t++)rn(e[t])}function Vs(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:rn(r)}for(t=0;t<n;t++)rn(e[t])}function on(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===Ve?r!==t&&(!r.updatedAt||r.updatedAt<hn)&&rn(r):o===nn&&on(r,t)}}}function Mo(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=nn,n.pure?ae.push(n):Fe.push(n),n.observers&&Mo(n))}}function pn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),s=n.observerSlots.pop();r<o.length&&(i.sourceSlots[s]=r,o[r]=i,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)pn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function zs(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ur(e,t=H){throw zs(e)}function Un(e){if(typeof e=="function"&&!e.length)return Un(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Un(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Bs(e,t){return function(r){let o;return z(()=>o=ie(()=>(H.context={...H.context,[e]:r.value},cr(()=>r.children))),void 0),o}}const Hn=Symbol("fallback");function sn(e){for(let t=0;t<e.length;t++)e[t]()}function js(e,t,n={}){let r=[],o=[],i=[],s=0,l=t.length>1?[]:null;return j(()=>sn(i)),()=>{let a=e()||[],c,d;return a[Ft],ie(()=>{let u=a.length,g,h,b,p,v,m,S,C,w;if(u===0)s!==0&&(sn(i),i=[],r=[],o=[],s=0,l&&(l=[])),n.fallback&&(r=[Hn],o[0]=_e(O=>(i[0]=O,n.fallback())),s=1);else if(s===0){for(o=new Array(u),d=0;d<u;d++)r[d]=a[d],o[d]=_e(f);s=u}else{for(b=new Array(u),p=new Array(u),l&&(v=new Array(u)),m=0,S=Math.min(s,u);m<S&&r[m]===a[m];m++);for(S=s-1,C=u-1;S>=m&&C>=m&&r[S]===a[C];S--,C--)b[C]=o[S],p[C]=i[S],l&&(v[C]=l[S]);for(g=new Map,h=new Array(C+1),d=C;d>=m;d--)w=a[d],c=g.get(w),h[d]=c===void 0?-1:c,g.set(w,d);for(c=m;c<=S;c++)w=r[c],d=g.get(w),d!==void 0&&d!==-1?(b[d]=o[c],p[d]=i[c],l&&(v[d]=l[c]),d=h[d],g.set(w,d)):i[c]();for(d=m;d<u;d++)d in b?(o[d]=b[d],i[d]=p[d],l&&(l[d]=v[d],l[d](d))):o[d]=_e(f);o=o.slice(0,s=u),r=a.slice(0)}return o});function f(u){if(i[d]=u,l){const[g,h]=L(d);return l[d]=h,t(a[d],g)}return t(a[d])}}}function Ws(e,t,n={}){let r=[],o=[],i=[],s=[],l=0,a;return j(()=>sn(i)),()=>{const c=e()||[];return c[Ft],ie(()=>{if(c.length===0)return l!==0&&(sn(i),i=[],r=[],o=[],l=0,s=[]),n.fallback&&(r=[Hn],o[0]=_e(f=>(i[0]=f,n.fallback())),l=1),o;for(r[0]===Hn&&(i[0](),i=[],r=[],o=[],l=0),a=0;a<c.length;a++)a<r.length&&r[a]!==c[a]?s[a](()=>c[a]):a>=r.length&&(o[a]=_e(d));for(;a<r.length;a++)i[a]();return l=s.length=i.length=c.length,r=c.slice(0),o=o.slice(0,l)});function d(f){i[a]=f;const[u,g]=L(c[a]);return s[a]=g,t(u,a)}}}let Us=!1;function y(e,t){return ie(()=>e(t||{}))}function Gt(){return!0}const qn={get(e,t,n){return t===Se?n:e.get(t)},has(e,t){return t===Se?!0:e.has(t)},set:Gt,deleteProperty:Gt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Gt,deleteProperty:Gt}},ownKeys(e){return e.keys()}};function Mn(e){return(e=typeof e=="function"?e():e)?e:{}}function Hs(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function T(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&Se in l,e[s]=typeof l=="function"?(t=!0,P(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const a=Mn(e[l])[s];if(a!==void 0)return a}},has(s){for(let l=e.length-1;l>=0;l--)if(s in Mn(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(Mn(e[l])));return[...new Set(s)]}},qn);const n={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const a=Object.getOwnPropertyNames(l);for(let c=a.length-1;c>=0;c--){const d=a[c];if(d==="__proto__"||d==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,d);if(!r[d])r[d]=f.get?{enumerable:!0,configurable:!0,get:Hs.bind(n[d]=[f.get.bind(l)])}:f.value!==void 0?f:void 0;else{const u=n[d];u&&(f.get?u.push(f.get.bind(l)):f.value!==void 0&&u.push(()=>f.value))}}}const o={},i=Object.keys(r);for(let s=i.length-1;s>=0;s--){const l=i[s],a=r[l];a&&a.get?Object.defineProperty(o,l,a):o[l]=a?a.value:void 0}return o}function V(e,...t){if(Se in e){const o=new Set(t.length>1?t.flat():t[0]),i=t.map(s=>new Proxy({get(l){return s.includes(l)?e[l]:void 0},has(l){return s.includes(l)&&l in e},keys(){return s.filter(l=>l in e)}},qn));return i.push(new Proxy({get(s){return o.has(s)?void 0:e[s]},has(s){return o.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!o.has(s))}},qn)),i}const n={},r=t.map(()=>({}));for(const o of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let l=!1,a=0;for(const c of t)c.includes(o)&&(l=!0,s?r[a][o]=i.value:Object.defineProperty(r[a],o,i)),++a;l||(s?n[o]=i.value:Object.defineProperty(n,o,i))}return[...r,n]}let qs=0;function lt(){return`cl-${qs++}`}const Fo=e=>`Stale read from <${e}>.`;function ve(e){const t="fallback"in e&&{fallback:()=>e.fallback};return P(js(()=>e.each,e.children,t||void 0))}function Gs(e){const t="fallback"in e&&{fallback:()=>e.fallback};return P(Ws(()=>e.each,e.children,t||void 0))}function Y(e){const t=e.keyed,n=P(()=>e.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return P(()=>{const r=n();if(r){const o=e.children;return typeof o=="function"&&o.length>0?ie(()=>o(t?r:()=>{if(!ie(n))throw Fo("Show");return e.when})):o}return e.fallback},void 0,void 0)}function _o(e){let t=!1;const n=(i,s)=>(t?i[1]===s[1]:!i[1]==!s[1])&&i[2]===s[2],r=cr(()=>e.children),o=P(()=>{let i=r();Array.isArray(i)||(i=[i]);for(let s=0;s<i.length;s++){const l=i[s].when;if(l)return t=!!i[s].keyed,[s,l,i[s]]}return[-1]},void 0,{equals:n});return P(()=>{const[i,s,l]=o();if(i<0)return e.fallback;const a=l.children;return typeof a=="function"&&a.length>0?ie(()=>a(t?s:()=>{if(ie(o)[0]!==i)throw Fo("Match");return l.when})):a},void 0,void 0)}function Gn(e){return e}const Ys=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Xs=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ys]),Qs=new Set(["innerHTML","textContent","innerText","children"]),Zs=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Js=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function el(e,t){const n=Js[e];return typeof n=="object"?n[t]?n.$:void 0:n}const tl=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),nl=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),rl={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function ol(e,t,n){let r=n.length,o=t.length,i=r,s=0,l=0,a=t[o-1].nextSibling,c=null;for(;s<o||l<i;){if(t[s]===n[l]){s++,l++;continue}for(;t[o-1]===n[i-1];)o--,i--;if(o===s){const d=i<r?l?n[l-1].nextSibling:n[i-l]:a;for(;l<i;)e.insertBefore(n[l++],d)}else if(i===l)for(;s<o;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[i-1]&&n[l]===t[o-1]){const d=t[--o].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--i],d),t[o]=n[i]}else{if(!c){c=new Map;let f=l;for(;f<i;)c.set(n[f],f++)}const d=c.get(t[s]);if(d!=null)if(l<d&&d<i){let f=s,u=1,g;for(;++f<o&&f<i&&!((g=c.get(t[f]))==null||g!==d+u);)u++;if(u>d-l){const h=t[s];for(;l<d;)e.insertBefore(n[l++],h)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}const Nr="_$DX_DELEGATE";function il(e,t,n,r={}){let o;return _e(i=>{o=i,t===document?e():M(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function $(e,t,n){let r;const o=()=>{const s=document.createElement("template");return s.innerHTML=e,s.content.firstChild},i=()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function $e(e,t=window.document){const n=t[Nr]||(t[Nr]=new Set);for(let r=0,o=e.length;r<o;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,ul))}}function Ke(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function sl(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function bn(e,t){t==null?e.removeAttribute("class"):e.className=t}function Yn(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const o=n[0];e.addEventListener(t,n[0]=i=>o.call(e,n[1],i))}else e.addEventListener(t,n)}function ll(e,t,n={}){const r=Object.keys(t||{}),o=Object.keys(n);let i,s;for(i=0,s=o.length;i<s;i++){const l=o[i];!l||l==="undefined"||t[l]||(Vr(e,l,!1),delete n[l])}for(i=0,s=r.length;i<s;i++){const l=r[i],a=!!t[l];!l||l==="undefined"||n[l]===a||!a||(Vr(e,l,!0),n[l]=a)}return n}function vt(e,t,n){if(!t)return n?Ke(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let o,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)o=t[i],o!==n[i]&&(r.setProperty(i,o),n[i]=o);return n}function et(e,t={},n,r){const o={};return r||z(()=>o.children=_t(e,t.children,o.children)),z(()=>typeof t.ref=="function"?je(t.ref,e):t.ref=e),z(()=>al(e,t,n,!0,o,!0)),o}function je(e,t,n){return ie(()=>e(t,n))}function M(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return _t(e,t,r,n);z(o=>_t(e,t(),o,n),r)}function al(e,t,n,r,o={},i=!1){t||(t={});for(const s in o)if(!(s in t)){if(s==="children")continue;o[s]=zr(e,s,null,o[s],n,i)}for(const s in t){if(s==="children")continue;const l=t[s];o[s]=zr(e,s,l,o[s],n,i)}}function cl(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Vr(e,t,n){const r=t.trim().split(/\s+/);for(let o=0,i=r.length;o<i;o++)e.classList.toggle(r[o],n)}function zr(e,t,n,r,o,i){let s,l,a,c,d;if(t==="style")return vt(e,n,r);if(t==="classList")return ll(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),u=tl.has(f);if(!u&&r){const g=Array.isArray(r)?r[0]:r;e.removeEventListener(f,g)}(u||n)&&(Yn(e,f,n,u),u&&$e([f]))}else if(t.slice(0,5)==="attr:")Ke(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(a=Qs.has(t))||!o&&((c=el(t,e.tagName))||(l=Xs.has(t)))||(s=e.nodeName.includes("-")))d&&(t=t.slice(5),l=!0),t==="class"||t==="className"?bn(e,n):s&&!l&&!a?e[cl(t)]=n:e[c||t]=n;else{const f=o&&t.indexOf(":")>-1&&rl[t.split(":")[0]];f?sl(e,f,t,n):Ke(e,Zs[t]||t,n)}return n}function ul(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(o!==void 0?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function _t(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(s){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=ft(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=ft(e,n,r);else{if(i==="function")return z(()=>{let l=t();for(;typeof l=="function";)l=l();n=_t(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],a=n&&Array.isArray(n);if(Xn(l,t,n,o))return z(()=>n=_t(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=ft(e,n,r),s)return n}else a?n.length===0?Br(e,l,r):ol(e,n,l):(n&&ft(e),Br(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ft(e,n,r,t);ft(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Xn(e,t,n,r){let o=!1;for(let i=0,s=t.length;i<s;i++){let l=t[i],a=n&&n[e.length],c;if(!(l==null||l===!0||l===!1))if((c=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))o=Xn(e,l,a)||o;else if(c==="function")if(r){for(;typeof l=="function";)l=l();o=Xn(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||o}else e.push(l),o=!0;else{const d=String(l);a&&a.nodeType===3&&a.data===d?e.push(a):e.push(document.createTextNode(d))}}return o}function Br(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function ft(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let i=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(o!==l){const a=l.parentNode===e;!i&&!s?a?e.replaceChild(o,l):e.insertBefore(o,n):a&&l.remove()}else i=!0}}else e.insertBefore(o,n);return[o]}const dl="http://www.w3.org/2000/svg";function Ko(e,t=!1){return t?document.createElementNS(dl,e):document.createElement(e)}function Ro(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,o=_s();let i,s=!!Ps.context;return R(()=>{i||(i=Ks(o,()=>P(()=>e.children)));const l=r();if(l instanceof HTMLHeadElement){const[a,c]=L(!1),d=()=>c(!0);_e(f=>M(l,()=>a()?f():i(),null)),j(d)}else{const a=Ko(e.isSVG?"g":"div",e.isSVG),c=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),M(c,i),l.appendChild(a),e.ref&&e.ref(a),j(()=>l.removeChild(a))}},void 0,{render:!s}),n}function No(e){const[t,n]=V(e,["component"]),r=P(()=>t.component);return P(()=>{const o=r();switch(typeof o){case"function":return ie(()=>o(n));case"string":const i=nl.has(o),s=Ko(o,i);return et(s,n,i),s}})}const Qn=Symbol("store-raw"),bt=Symbol("store-node"),Me=Symbol("store-has"),Vo=Symbol("store-self");function zo(e){let t=e[Se];if(!t&&(Object.defineProperty(e,Se,{value:t=new Proxy(e,hl)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let o=0,i=n.length;o<i;o++){const s=n[o];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function ln(e){let t;return e!=null&&typeof e=="object"&&(e[Se]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Kt(e,t=new Set){let n,r,o,i;if(n=e!=null&&e[Qn])return n;if(!ln(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,l=e.length;s<l;s++)o=e[s],(r=Kt(o,t))!==o&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let a=0,c=s.length;a<c;a++)i=s[a],!l[i].get&&(o=e[i],(r=Kt(o,t))!==o&&(e[i]=r))}return e}function an(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Rt(e,t,n){if(e[t])return e[t];const[r,o]=L(n,{equals:!1,internal:!0});return r.$=o,e[t]=r}function fl(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Se||t===bt||(delete n.value,delete n.writable,n.get=()=>e[Se][t]),n}function Bo(e){Wn()&&Rt(an(e,bt),Vo)()}function gl(e){return Bo(e),Reflect.ownKeys(e)}const hl={get(e,t,n){if(t===Qn)return e;if(t===Se)return n;if(t===Ft)return Bo(e),n;const r=an(e,bt),o=r[t];let i=o?o():e[t];if(t===bt||t===Me||t==="__proto__")return i;if(!o){const s=Object.getOwnPropertyDescriptor(e,t);Wn()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(i=Rt(r,t,i)())}return ln(i)?zo(i):i},has(e,t){return t===Qn||t===Se||t===Ft||t===bt||t===Me||t==="__proto__"?!0:(Wn()&&Rt(an(e,Me),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:gl,getOwnPropertyDescriptor:fl};function cn(e,t,n,r=!1){if(!r&&e[t]===n)return;const o=e[t],i=e.length;n===void 0?(delete e[t],e[Me]&&e[Me][t]&&o!==void 0&&e[Me][t].$()):(e[t]=n,e[Me]&&e[Me][t]&&o===void 0&&e[Me][t].$());let s=an(e,bt),l;if((l=Rt(s,t,o))&&l.$(()=>n),Array.isArray(e)&&e.length!==i){for(let a=e.length;a<i;a++)(l=s[a])&&l.$();(l=Rt(s,"length",i))&&l.$(e.length)}(l=s[Vo])&&l.$()}function jo(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];cn(e,o,t[o])}}function ml(e,t){if(typeof t=="function"&&(t=t(e)),t=Kt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const o=t[n];e[n]!==o&&cn(e,n,o)}cn(e,"length",r)}else jo(e,t)}function Pt(e,t,n=[]){let r,o=e;if(t.length>1){r=t.shift();const s=typeof r,l=Array.isArray(e);if(Array.isArray(r)){for(let a=0;a<r.length;a++)Pt(e,[r[a]].concat(t),n);return}else if(l&&s==="function"){for(let a=0;a<e.length;a++)r(e[a],a)&&Pt(e,[a].concat(t),n);return}else if(l&&s==="object"){const{from:a=0,to:c=e.length-1,by:d=1}=r;for(let f=a;f<=c;f+=d)Pt(e,[f].concat(t),n);return}else if(t.length>1){Pt(e[r],t,[r].concat(n));return}o=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(o,n),i===o)||r===void 0&&i==null||(i=Kt(i),r===void 0||ln(o)&&ln(i)&&!Array.isArray(i)?jo(o,i):cn(e,r,i))}function pt(...[e,t]){const n=Kt(e||{}),r=Array.isArray(n),o=zo(n);function i(...s){Fs(()=>{r&&s.length===1?ml(n,s[0]):Pt(n,s)})}return[o,i]}const Wo="file.complex-property",jr={successful:!0,value:{headers:[""],values:[[null]],type:"table"},truePropertyNames:[]},Wr="No match found",pl=(e,t,n,r,o)=>{const i=Number(e);return Number.isNaN(i)?0:i},dr=e=>e.hour!==0||e.minute!==0||e.second!==0,bl=(e,t,n)=>{const r=typeof e;if(r==="string")return"text";if(r==="number")return"number";if(r==="boolean")return"checkbox";if(r==="object")return Array.isArray(e)?t==="tags"?"tags":"list":n.DateTime.isDateTime(e)?dr(e)?"datetime":"date":"text";throw new Error("Failed to get property value type")},yl=(e,t)=>{e.app.metadataCache.on("dataview:index-ready",t),e.app.metadataCache.on("dataview:metadata-change",t)},vl=(e,t)=>{e.app.metadataCache.off("dataview:index-ready",t),e.app.metadataCache.off("dataview:metadata-change",t)},wl=(e,t)=>{const n=e.findIndex(r=>r.toLowerCase()===t.toLowerCase()||r==="file.link");if(n===-1)throw new Error("Couldn't fine ID column index");return n},xl=e=>!(!e||typeof e!="object"||!e.hasOwnProperty("type")||e.type!=="file"),Uo=e=>xl(e)?e.markdown():e,Sl=e=>typeof e!="object"||!(e!=null&&e.hasOwnProperty("array"))?e:{...e}.array(),Cl=e=>{const n=e.split(`
`)[0].toLowerCase().includes("without id"),r=e.split(`
`)[0].substring(n?17:6).split(",").map(o=>{const s=o.trim().split(/\sAS\s/gim)[0].trim(),l=["(",")","[","]","{","}","+","*","/","%","<",">","!","=",'"'];return!Number.isNaN(Number(s))||s.split("").some(c=>l.includes(c))?Wo:s});return n?r:["File",...r]},Te=async(e,t,n,r,o,i)=>{const{app:{fileManager:s,vault:l}}=r,a=l.getFileByPath(n);if(!a)throw new Error("Tried updating frontmatter property but couldn't find file");let c=!1;await s.processFrontMatter(a,f=>f.hasOwnProperty(e)?(f[e]=t,c=!0):e.includes(".")?(kl(f,e,t),c=!0):void 0),!(c||await El(e,t,o,a,l,i))&&await s.processFrontMatter(a,f=>{f[e]=t})},kl=(e,t,n)=>{const r=t.split(".");let o=e;r.forEach((i,s)=>{s===r.length-1?o[i]=n:((!o[i]||typeof o[i]!="object")&&(o[i]={}),o=o[i])})},Ol=e=>{const t=new RegExp(/[\[\(]?([^\n\r\(\[]*)::[ ]*([^\)\]\n\r]*)[\]\)]?/gm);return e.reduce((n,r,o)=>{let i=t.exec(r??"");if(!i)return n;const s=i[1].trim(),l=i[2].trim();return[...n,{key:s,value:l,line:o,match:i[0]}]},[])},El=async(e,t,n,r,o,i)=>{var g;const l=(await o.read(r)).split(`
`),a=[];if(l[0]==="---"){const h=l.findIndex((b,p)=>b==="---"&&p!==0);if(h!==-1&&l[h+1]!==void 0)for(let b=0;b<h+1;b++)a.push(l[b]),l[b]=null}const c=Ol(l),d=c.find(h=>h.value===(n==null?void 0:n.toString()));if(!d)return c.some(b=>b.key===e)?(new ce.Notice("Inline fields found for property, so you can't use the plus button"),!0):!1;const f=Array.isArray(t)?t[i??0]:t;l[d.line]=((g=l[d.line])==null?void 0:g.replace(e+":: "+d.value,e+":: "+(f??"").toString()))??null;let u="";for(let h=0;h<l.length;h++){const b=l[h];b!==null&&(u+=`
`+b)}return await o.modify(r,a.join(`
`)+u),!0},Al=e=>{const{metadataCache:t}=e;return t.getAllPropertyInfos()},Zn=e=>{const t=e.split(`
`);let n=0;for(n;n<t.length;n++){const r=t[n];if(r.toLowerCase().startsWith("table"))return{line:r,index:n}}throw new Error("Unable to find table line from codeBlockText. This should be impossible.")},Jn={lockEditing:!1,newNoteTemplatePath:"",tableClassName:""},Il=e=>{const[t,n]=e.split(/\n^---$\n/gim);try{const r=ce.parseYaml(n);if(typeof r!="object")throw new Error;return{query:t,config:{...Jn,...r}}}catch{return{query:t,config:Jn}}},Tl=e=>{const t=Array.from(document.querySelectorAll(".cm-scroller"));return t.find(r=>r.contains(e.contentEl))??t[0]},Ho=(e,t,n)=>{var b;const{config:r,ctx:o,el:i,plugin:{app:{workspace:s}},query:l}=n,a={...r,[e]:t},c=ce.stringifyYaml(a),{lineStart:d,lineEnd:f}=o.getSectionInfo(i),u="```dataedit\n"+l+`
---
`+c+"```",g=(b=s.activeEditor)==null?void 0:b.editor;if(!g)return;const h=performance.now();g.replaceRange(u,{line:d,ch:0},{line:f,ch:NaN}),console.log("time to modify: ",performance.now()-h)},Ur=(e,t)=>{var u;const{ctx:n,el:r,plugin:{app:{workspace:o}},query:i}=t,s=ce.stringifyYaml(e),{lineStart:l,lineEnd:a}=n.getSectionInfo(r),c="```dataedit\n"+i+`
---
`+s+"```",d=(u=o.activeEditor)==null?void 0:u.editor;if(!d)return;const f=performance.now();d.replaceRange(c,{line:l,ch:0},{line:a,ch:NaN}),console.log("time to modify: ",performance.now()-f)},qo=e=>{const t=e.internalPlugins.plugins.templates.instance.options.folder;if(!t)return;const n=e.vault.getFolderByPath(t);if(n&&n.children.length)return n.children.filter(r=>r instanceof ce.TFile)};/**
* @license lucide-solid v0.412.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var Ll={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},gt=Ll,Pl=$("<svg>"),$l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dl=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" "),Ml=e=>{const[t,n]=V(e,["color","size","strokeWidth","children","class","name","iconNode","absoluteStrokeWidth"]);return(()=>{var r=Pl();return et(r,T(gt,{get width(){return t.size??gt.width},get height(){return t.size??gt.height},get stroke(){return t.color??gt.stroke},get"stroke-width"(){return P(()=>!!t.absoluteStrokeWidth)()?Number(t.strokeWidth??gt["stroke-width"])*24/Number(t.size):Number(t.strokeWidth??gt["stroke-width"])},get class(){return Dl("lucide","lucide-icon",t.name!=null?`lucide-${$l(t==null?void 0:t.name)}`:void 0,t.class!=null?t.class:"")}},n),!0,!0),M(r,y(ve,{get each(){return t.iconNode},children:([o,i])=>y(No,T({component:o},i))})),r})()},at=Ml,Fl=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_l=e=>y(at,T(e,{name:"Lock",iconNode:Fl})),Kl=_l,Rl=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Nl=e=>y(at,T(e,{name:"LockOpen",iconNode:Rl})),Vl=Nl,zl=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bl=e=>y(at,T(e,{name:"Settings",iconNode:zl})),jl=Bl;const fr="-";function Wl(e){const t=Hl(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function o(s){const l=s.split(fr);return l[0]===""&&l.length!==1&&l.shift(),Go(l,t)||Ul(s)}function i(s,l){const a=n[s]||[];return l&&r[s]?[...a,...r[s]]:a}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function Go(e,t){var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Go(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const i=e.join(fr);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId}const Hr=/^\[(.+)\]$/;function Ul(e){if(Hr.test(e)){const t=Hr.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Hl(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Gl(Object.entries(e.classGroups),n).forEach(([i,s])=>{er(s,r,i,t)}),r}function er(e,t,n,r){e.forEach(o=>{if(typeof o=="string"){const i=o===""?t:qr(t,o);i.classGroupId=n;return}if(typeof o=="function"){if(ql(o)){er(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{er(s,qr(t,i),n,r)})})}function qr(e,t){let n=e;return t.split(fr).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function ql(e){return e.isThemeGetter}function Gl(e,t){return t?e.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[n,o]}):e}function Yl(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function o(i,s){n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}}const Yo="!";function Xl(e){const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],i=t.length;function s(l){const a=[];let c=0,d=0,f;for(let p=0;p<l.length;p++){let v=l[p];if(c===0){if(v===o&&(r||l.slice(p,p+i)===t)){a.push(l.slice(d,p)),d=p+i;continue}if(v==="/"){f=p;continue}}v==="["?c++:v==="]"&&c--}const u=a.length===0?l:l.substring(d),g=u.startsWith(Yo),h=g?u.substring(1):u,b=f&&f>d?f-d:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:b}}return n?function(a){return n({className:a,parseClassName:s})}:s}function Ql(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function Zl(e){return{cache:Yl(e.cacheSize),parseClassName:Xl(e),...Wl(e)}}const Jl=/\s+/;function ea(e,t){const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=new Set;return e.trim().split(Jl).map(s=>{const{modifiers:l,hasImportantModifier:a,baseClassName:c,maybePostfixModifierPosition:d}=n(s);let f=!!d,u=r(f?c.substring(0,d):c);if(!u){if(!f)return{isTailwindClass:!1,originalClassName:s};if(u=r(c),!u)return{isTailwindClass:!1,originalClassName:s};f=!1}const g=Ql(l).join(":");return{isTailwindClass:!0,modifierId:a?g+Yo:g,classGroupId:u,originalClassName:s,hasPostfixModifier:f}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:l,classGroupId:a,hasPostfixModifier:c}=s,d=l+a;return i.has(d)?!1:(i.add(d),o(a,c).forEach(f=>i.add(l+f)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function ta(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Xo(t))&&(r&&(r+=" "),r+=n);return r}function Xo(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Xo(e[r]))&&(n&&(n+=" "),n+=t);return n}function na(e,...t){let n,r,o,i=s;function s(a){const c=t.reduce((d,f)=>f(d),e());return n=Zl(c),r=n.cache.get,o=n.cache.set,i=l,l(a)}function l(a){const c=r(a);if(c)return c;const d=ea(a,n);return o(a,d),d}return function(){return i(ta.apply(null,arguments))}}function X(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const Qo=/^\[(?:([a-z-]+):)?(.+)\]$/i,ra=/^\d+\/\d+$/,oa=new Set(["px","full","screen"]),ia=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sa=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,la=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ca=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function De(e){return rt(e)||oa.has(e)||ra.test(e)}function Ge(e){return St(e,"length",ba)}function rt(e){return!!e&&!Number.isNaN(Number(e))}function Yt(e){return St(e,"number",rt)}function Et(e){return!!e&&Number.isInteger(Number(e))}function ua(e){return e.endsWith("%")&&rt(e.slice(0,-1))}function N(e){return Qo.test(e)}function Ye(e){return ia.test(e)}const da=new Set(["length","size","percentage"]);function fa(e){return St(e,da,Zo)}function ga(e){return St(e,"position",Zo)}const ha=new Set(["image","url"]);function ma(e){return St(e,ha,va)}function pa(e){return St(e,"",ya)}function At(){return!0}function St(e,t,n){const r=Qo.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function ba(e){return sa.test(e)&&!la.test(e)}function Zo(){return!1}function ya(e){return aa.test(e)}function va(e){return ca.test(e)}function wa(){const e=X("colors"),t=X("spacing"),n=X("blur"),r=X("brightness"),o=X("borderColor"),i=X("borderRadius"),s=X("borderSpacing"),l=X("borderWidth"),a=X("contrast"),c=X("grayscale"),d=X("hueRotate"),f=X("invert"),u=X("gap"),g=X("gradientColorStops"),h=X("gradientColorStopPositions"),b=X("inset"),p=X("margin"),v=X("opacity"),m=X("padding"),S=X("saturate"),C=X("scale"),w=X("sepia"),O=X("skew"),A=X("space"),I=X("translate"),F=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",N,t],_=()=>[N,t],ee=()=>["",De,Ge],B=()=>["auto",rt,N],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",N],dt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],He=()=>[rt,Yt],nt=()=>[rt,N];return{cacheSize:500,separator:":",theme:{colors:[At],spacing:[De,Ge],blur:["none","",Ye,N],brightness:He(),borderColor:[e],borderRadius:["none","","full",Ye,N],borderSpacing:_(),borderWidth:ee(),contrast:He(),grayscale:oe(),hueRotate:nt(),invert:oe(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[ua,Ge],inset:G(),margin:G(),opacity:He(),padding:_(),saturate:He(),scale:He(),sepia:oe(),skew:nt(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",N]}],container:["container"],columns:[{columns:[Ye]}],"break-after":[{"break-after":dt()}],"break-before":[{"break-before":dt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),N]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Et,N]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",N]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",Et,N]}],"grid-cols":[{"grid-cols":[At]}],"col-start-end":[{col:["auto",{span:["full",Et,N]},N]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[At]}],"row-start-end":[{row:["auto",{span:[Et,N]},N]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",N]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",N]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",N,t]}],"min-w":[{"min-w":[N,t,"min","max","fit"]}],"max-w":[{"max-w":[N,t,"none","full","min","max","fit","prose",{screen:[Ye]},Ye]}],h:[{h:[N,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[N,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[N,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[N,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ye,Ge]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yt]}],"font-family":[{font:[At]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",N]}],"line-clamp":[{"line-clamp":["none",rt,Yt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",De,N]}],"list-image":[{"list-image":["none",N]}],"list-style-type":[{list:["none","disc","decimal",N]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",De,Ge]}],"underline-offset":[{"underline-offset":["auto",De,N]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",N]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",N]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),ga]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fa]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ma]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:D()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[De,N]}],"outline-w":[{outline:[De,Ge]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[De,Ge]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ye,pa]}],"shadow-color":[{shadow:[At]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",Ye,N]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",N]}],duration:[{duration:nt()}],ease:[{ease:["linear","in","out","in-out",N]}],delay:[{delay:nt()}],animate:[{animate:["none","spin","ping","pulse","bounce",N]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Et,N]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",N]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",N]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",N]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[De,Ge,Yt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Jo=na(wa);var xa=$("<div>");const yn=e=>{let t;const[n,r]=V(e,["app","markdown","sourcePath","class"]),o=P(()=>{const s=n.markdown??"&nbsp;";return Array.isArray(s)?s.join(", "):s===""||typeof s=="object"?"&nbsp;":s.toString()}),i=new ce.Component;return R(()=>{t.empty(),ce.MarkdownRenderer.render(n.app,o(),t,n.sourcePath,i)}),(()=>{var s=xa();return je(l=>t=l,s),et(s,T(r,{get class(){return Jo("[&>p]:m-0",n.class)}}),!1,!1),s})()},ei=ze({plugin:{},el:{},source:"",query:"",config:{},ctx:{},dataviewAPI:{}}),we=()=>Be(ei);var Sa=$('<input class=""type=checkbox>');const Ca=e=>{const{plugin:t,config:n}=we();return(()=>{var r=Sa();return r.$$click=async o=>{await Te(e.property,o.currentTarget.checked,e.filePath,t,e.value)},z(()=>r.disabled=n.lockEditing),z(()=>r.checked=!!e.value),r})()};$e(["click"]);var Ct=(e,t)=>{(t==null?void 0:t())!==!1&&Bt(()=>{e.hasAttribute("autofocus")&&setTimeout(()=>e.focus())})},ka=$('<input autofocus class="">');const Oa=e=>{const{plugin:t,dataviewAPI:{luxon:{DateTime:n}}}=we(),r=P(()=>dr(e.value));return(()=>{var o=ka();return o.addEventListener("blur",async i=>{if(!i.target.validity)return e.setEditing(!1);const l=r()?"yyyy-MM-dd'T'hh:mm":"yyyy-MM-dd",c=n.fromFormat(i.target.value,l).toFormat(l),d=e.value.toFormat(l);await Te(e.property,c,e.filePath,t,d),e.setEditing(!1)}),je(Ct,o,()=>!0),z(()=>Ke(o,"type",r()?"datetime-local":"date")),z(()=>o.value=r()?e.value.toFormat("yyyy-MM-dd'T'hh:mm"):e.value.toFormat("yyyy-MM-dd")),o})()};var Ea=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Aa=e=>y(at,T(e,{name:"Plus",iconNode:Ea})),vn=Aa,Ia=$('<input autofocus class="h-auto rounded-none border-none bg-transparent p-0 !shadow-none"type=text>');const ti=e=>{var o;const[t,n]=L(((o=e.value)==null?void 0:o.toString().length)??5),{plugin:r}=we();return(()=>{var i=Ia();return i.$$input=s=>{n(s.target.value.length)},i.addEventListener("blur",async s=>{e.updateProperty?await e.updateProperty(s.target.value):await Te(e.property,s.target.value,e.filePath,r,e.value),e.setEditing(!1)}),je(Ct,i,()=>!0),z(()=>Ke(i,"size",t())),z(()=>{var s;return i.value=((s=e.value)==null?void 0:s.toString())??""}),i})()};$e(["input"]);var Ta=$('<ul class="m-0 flex flex-col gap-1 p-0 [&amp;>li]:list-disc"><button class="clickable-icon size-fit p-1">'),La=$('<li class="m-0 ml-3">');const Pa=e=>{const{plugin:t,ctx:n,config:r}=we();return(()=>{var o=Ta(),i=o.firstChild;return M(o,y(ve,{get each(){return e.value},children:(s,l)=>y($a,T(e,{plugin:t,ctx:n,itemValue:s,get itemIndex(){return l()},config:r}))}),i),i.$$click=async s=>{s.preventDefault(),await Te(e.property,[...e.value,""],e.filePath,t,e.value)},M(i,y(vn,{class:"pointer-events-none size-3"})),z(()=>i.disabled=r.lockEditing),o})()},$a=e=>{const[t,n]=L(!1);return(()=>{var r=La();return M(r,y(Y,{get when(){return P(()=>!e.config.lockEditing)()&&t()},get fallback(){return y(yn,{class:"size-full",get app(){return e.plugin.app},get markdown(){return Uo(e.itemValue)},get sourcePath(){return e.ctx.sourcePath},get onClick(){return e.config.lockEditing?void 0:()=>n(!0)}})},get children(){return y(Da,T(e,{setEditing:n}))}})),r})()},Da=e=>y(ti,T(e,{get value(){return e.itemValue},valueType:"list",updateProperty:async t=>{const n=[...e.value];if(!t&&t!==0){const r=n.filter((o,i)=>i!==e.itemIndex);await Te(e.property,r,e.filePath,e.plugin,e.itemValue,e.itemIndex);return}n[e.itemIndex]=t,await Te(e.property,n,e.filePath,e.plugin,e.itemValue,e.itemIndex)}}));$e(["click"]);function ni(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=ni(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ma(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=ni(e))&&(r&&(r+=" "),r+=t);return r}const Ce=(...e)=>Jo(Ma(e));function Fa(e){return(...t)=>{for(const n of e)n&&n(...t)}}var x=e=>typeof e=="function"&&!e.length?e():e,Gr=e=>Array.isArray(e)?e:e?[e]:[];function _a(e,...t){return typeof e=="function"?e(...t):e}var Ka=j;function Ra(e,t,n,r){return e.addEventListener(t,n,r),Ka(e.removeEventListener.bind(e,t,n,r))}function Na(e,t,n,r){const o=()=>{Gr(x(e)).forEach(i=>{i&&Gr(x(t)).forEach(s=>Ra(i,s,n,r))})};typeof e=="function"?R(o):z(o)}var Fn=Symbol("fallback");function Yr(e){for(const t of e)t.dispose()}function Va(e,t,n,r={}){const o=new Map;return j(()=>Yr(o.values())),()=>{const s=e()||[];return s[Ft],ie(()=>{var d,f;if(!s.length)return Yr(o.values()),o.clear(),r.fallback?[_e(g=>(o.set(Fn,{dispose:g}),r.fallback()))]:[];const l=new Array(s.length),a=o.get(Fn);if(!o.size||a){a==null||a.dispose(),o.delete(Fn);for(let u=0;u<s.length;u++){const g=s[u],h=t(g,u);i(l,g,u,h)}return l}const c=new Set(o.keys());for(let u=0;u<s.length;u++){const g=s[u],h=t(g,u);c.delete(h);const b=o.get(h);b?(l[u]=b.mapped,(d=b.setIndex)==null||d.call(b,u),b.setItem(()=>g)):i(l,g,u,h)}for(const u of c)(f=o.get(u))==null||f.dispose(),o.delete(u);return l})};function i(s,l,a,c){_e(d=>{const[f,u]=L(l),g={setItem:u,dispose:d};if(n.length>1){const[h,b]=L(a);g.setIndex=b,g.mapped=n(f,h)}else g.mapped=n(f);o.set(c,g),s[a]=g.mapped})}}function za(e){const{by:t}=e;return P(Va(()=>e.each,typeof t=="function"?t:n=>n[t],e.children,"fallback"in e?{fallback:()=>e.fallback}:void 0))}function ue(...e){return Fa(e)}function Xr(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ba(e){return typeof e=="number"}function ht(e){return Object.prototype.toString.call(e)==="[object String]"}function Mt(e){return typeof e=="function"}function jt(e){return t=>`${e()}-${t}`}function xe(e,t){return e?e===t||e.contains(t):!1}function $t(e,t=!1){const{activeElement:n}=Re(e);if(!(n!=null&&n.nodeName))return null;if(ri(n)&&n.contentDocument)return $t(n.contentDocument.body,t);if(t){const r=n.getAttribute("aria-activedescendant");if(r){const o=Re(n).getElementById(r);if(o)return o}}return n}function ja(e){return Re(e).defaultView||window}function Re(e){return e?e.ownerDocument||e:document}function ri(e){return e.tagName==="IFRAME"}var oi=(e=>(e.Escape="Escape",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e))(oi||{});function ii(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)==null?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function gr(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)==null?void 0:t.platform)||window.navigator.platform):!1}function Wt(){return gr(/^Mac/i)}function Wa(){return gr(/^iPhone/i)}function Ua(){return gr(/^iPad/i)||Wt()&&navigator.maxTouchPoints>1}function Ha(){return Wa()||Ua()}function Jt(){return Wt()||Ha()}function qa(){return ii(/AppleWebKit/i)&&!Ga()}function Ga(){return ii(/Chrome/i)}function fe(e,t){return t&&(Mt(t)?t(e):t[0](t[1],e)),e==null?void 0:e.defaultPrevented}function ye(e){return t=>{for(const n of e)fe(t,n)}}function Ya(e){return Wt()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}function le(e){if(e)if(Xa())e.focus({preventScroll:!0});else{const t=Qa(e);e.focus(),Za(t)}}var Xt=null;function Xa(){if(Xt==null){Xt=!1;try{document.createElement("div").focus({get preventScroll(){return Xt=!0,!0}})}catch{}}return Xt}function Qa(e){let t=e.parentNode;const n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Za(e){for(const{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}var si=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],Ja=[...si,'[tabindex]:not([tabindex="-1"]):not([disabled])'],hr=si.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])",ec=Ja.join(':not([hidden]):not([tabindex="-1"]),');function li(e,t){const r=Array.from(e.querySelectorAll(hr)).filter(Qr);return t&&Qr(e)&&r.unshift(e),r.forEach((o,i)=>{if(ri(o)&&o.contentDocument){const s=o.contentDocument.body,l=li(s,!1);r.splice(i,1,...l)}}),r}function Qr(e){return ai(e)&&!tc(e)}function ai(e){return e.matches(hr)&&mr(e)}function tc(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}function mr(e,t){return e.nodeName!=="#comment"&&nc(e)&&rc(e,t)&&(!e.parentElement||mr(e.parentElement,e))}function nc(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;const{display:t,visibility:n}=e.style;let r=t!=="none"&&n!=="hidden"&&n!=="collapse";if(r){if(!e.ownerDocument.defaultView)return r;const{getComputedStyle:o}=e.ownerDocument.defaultView,{display:i,visibility:s}=o(e);r=i!=="none"&&s!=="hidden"&&s!=="collapse"}return r}function rc(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function oc(e,t,n){const r=t!=null&&t.tabbable?ec:hr,o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var s;return(s=t==null?void 0:t.from)!=null&&s.contains(i)?NodeFilter.FILTER_REJECT:i.matches(r)&&mr(i)&&!n&&(!(t!=null&&t.accept)||t.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(o.currentNode=t.from),o}function ic(){}function J(e,t){return T(e,t)}var It=new Map,Zr=new Set;function Jr(){if(typeof window>"u")return;const e=n=>{if(!n.target)return;let r=It.get(n.target);r||(r=new Set,It.set(n.target,r),n.target.addEventListener("transitioncancel",t)),r.add(n.propertyName)},t=n=>{if(!n.target)return;const r=It.get(n.target);if(r&&(r.delete(n.propertyName),r.size===0&&(n.target.removeEventListener("transitioncancel",t),It.delete(n.target)),It.size===0)){for(const o of Zr)o();Zr.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?Jr():document.addEventListener("DOMContentLoaded",Jr));function eo(e,t){const n=to(e,t,"left"),r=to(e,t,"top"),o=t.offsetWidth,i=t.offsetHeight;let s=e.scrollLeft,l=e.scrollTop;const a=s+e.offsetWidth,c=l+e.offsetHeight;n<=s?s=n:n+o>a&&(s+=n+o-a),r<=l?l=r:r+i>c&&(l+=r+i-c),e.scrollLeft=s,e.scrollTop=l}function to(e,t,n){const r=n==="left"?"offsetLeft":"offsetTop";let o=0;for(;t.offsetParent&&(o+=t[r],t.offsetParent!==e);){if(t.offsetParent.contains(e)){o-=e[r];break}t=t.offsetParent}return o}var pr={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"},un="data-kb-top-layer",ci,tr=!1,Ne=[];function Nt(e){return Ne.findIndex(t=>t.node===e)}function sc(e){return Ne[Nt(e)]}function lc(e){return Ne[Ne.length-1].node===e}function ui(){return Ne.filter(e=>e.isPointerBlocking)}function ac(){return[...ui()].slice(-1)[0]}function br(){return ui().length>0}function di(e){var n;const t=Nt((n=ac())==null?void 0:n.node);return Nt(e)<t}function cc(e){Ne.push(e)}function uc(e){const t=Nt(e);t<0||Ne.splice(t,1)}function dc(){for(const{node:e}of Ne)e.style.pointerEvents=di(e)?"none":"auto"}function fc(e){if(br()&&!tr){const t=Re(e);ci=document.body.style.pointerEvents,t.body.style.pointerEvents="none",tr=!0}}function gc(e){if(br())return;const t=Re(e);t.body.style.pointerEvents=ci,t.body.style.length===0&&t.body.removeAttribute("style"),tr=!1}var he={layers:Ne,isTopMostLayer:lc,hasPointerBlockingLayer:br,isBelowPointerBlockingLayer:di,addLayer:cc,removeLayer:uc,indexOf:Nt,find:sc,assignPointerEventToLayers:dc,disableBodyPointerEvents:fc,restoreBodyPointerEvents:gc},_n="focusScope.autoFocusOnMount",Kn="focusScope.autoFocusOnUnmount",no={bubbles:!1,cancelable:!0},ro={stack:[],active(){return this.stack[0]},add(e){var t;e!==this.active()&&((t=this.active())==null||t.pause()),this.stack=Xr(this.stack,e),this.stack.unshift(e)},remove(e){var t;this.stack=Xr(this.stack,e),(t=this.active())==null||t.resume()}};function fi(e,t){const[n,r]=L(!1),o={pause(){r(!0)},resume(){r(!1)}};let i=null;const s=h=>{var b;return(b=e.onMountAutoFocus)==null?void 0:b.call(e,h)},l=h=>{var b;return(b=e.onUnmountAutoFocus)==null?void 0:b.call(e,h)},a=()=>Re(t()),c=()=>{const h=a().createElement("span");return h.setAttribute("data-focus-trap",""),h.tabIndex=0,Object.assign(h.style,pr),h},d=()=>{const h=t();return h?li(h,!0).filter(b=>!b.hasAttribute("data-focus-trap")):[]},f=()=>{const h=d();return h.length>0?h[0]:null},u=()=>{const h=d();return h.length>0?h[h.length-1]:null},g=()=>{const h=t();if(!h)return!1;const b=$t(h);return!b||xe(h,b)?!1:ai(b)};R(()=>{const h=t();if(!h)return;ro.add(o);const b=$t(h);if(!xe(h,b)){const v=new CustomEvent(_n,no);h.addEventListener(_n,s),h.dispatchEvent(v),v.defaultPrevented||setTimeout(()=>{le(f()),$t(h)===b&&le(h)},0)}j(()=>{h.removeEventListener(_n,s),setTimeout(()=>{const v=new CustomEvent(Kn,no);g()&&v.preventDefault(),h.addEventListener(Kn,l),h.dispatchEvent(v),v.defaultPrevented||le(b??a().body),h.removeEventListener(Kn,l),ro.remove(o)},0)})}),R(()=>{const h=t();if(!h||!x(e.trapFocus)||n())return;const b=v=>{const m=v.target;m!=null&&m.closest(`[${un}]`)||(xe(h,m)?i=m:le(i))},p=v=>{const S=v.relatedTarget??$t(h);S!=null&&S.closest(`[${un}]`)||xe(h,S)||le(i)};a().addEventListener("focusin",b),a().addEventListener("focusout",p),j(()=>{a().removeEventListener("focusin",b),a().removeEventListener("focusout",p)})}),R(()=>{const h=t();if(!h||!x(e.trapFocus)||n())return;const b=c();h.insertAdjacentElement("afterbegin",b);const p=c();h.insertAdjacentElement("beforeend",p);function v(S){const C=f(),w=u();S.relatedTarget===C?le(w):le(C)}b.addEventListener("focusin",v),p.addEventListener("focusin",v);const m=new MutationObserver(S=>{for(const C of S)C.previousSibling===p&&(p.remove(),h.insertAdjacentElement("beforeend",p)),C.nextSibling===b&&(b.remove(),h.insertAdjacentElement("afterbegin",b))});m.observe(h,{childList:!0,subtree:!1}),j(()=>{b.removeEventListener("focusin",v),p.removeEventListener("focusin",v),b.remove(),p.remove(),m.disconnect()})})}var gi=7e3,Rn=null,hc="data-live-announcer";function Nn(e,t="assertive",n=gi){Rn||(Rn=new mc),Rn.announce(e,t,n)}var mc=class{constructor(){de(this,"node");de(this,"assertiveLog");de(this,"politeLog");this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,pr),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node)}createLog(e){const t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",n=gi){if(!this.node)return;const r=document.createElement("div");r.textContent=e,t==="assertive"?this.assertiveLog.appendChild(r):this.politeLog.appendChild(r),e!==""&&setTimeout(()=>{r.remove()},n)}clear(e){this.node&&((!e||e==="assertive")&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&(this.politeLog.innerHTML=""))}};function hi(e){R(()=>{x(e.isDisabled)||j(pc(x(e.targets),x(e.root)))})}var Tt=new WeakMap,be=[];function pc(e,t=document.body){const n=new Set(e),r=new Set,o=a=>{for(const u of a.querySelectorAll(`[${hc}], [${un}]`))n.add(u);const c=u=>{if(n.has(u)||u.parentElement&&r.has(u.parentElement)&&u.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const g of n)if(u.contains(g))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},d=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),f=c(a);if(f===NodeFilter.FILTER_ACCEPT&&i(a),f!==NodeFilter.FILTER_REJECT){let u=d.nextNode();for(;u!=null;)i(u),u=d.nextNode()}},i=a=>{const c=Tt.get(a)??0;a.getAttribute("aria-hidden")==="true"&&c===0||(c===0&&a.setAttribute("aria-hidden","true"),r.add(a),Tt.set(a,c+1))};be.length&&be[be.length-1].disconnect(),o(t);const s=new MutationObserver(a=>{for(const c of a)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...n,...r].some(d=>d.contains(c.target))){for(const d of c.removedNodes)d instanceof Element&&(n.delete(d),r.delete(d));for(const d of c.addedNodes)(d instanceof HTMLElement||d instanceof SVGElement)&&(d.dataset.liveAnnouncer==="true"||d.dataset.reactAriaTopLayer==="true")?n.add(d):d instanceof Element&&o(d)}});s.observe(t,{childList:!0,subtree:!0});const l={observe(){s.observe(t,{childList:!0,subtree:!0})},disconnect(){s.disconnect()}};return be.push(l),()=>{s.disconnect();for(const a of r){const c=Tt.get(a);if(c==null)return;c===1?(a.removeAttribute("aria-hidden"),Tt.delete(a)):Tt.set(a,c-1)}l===be[be.length-1]?(be.pop(),be.length&&be[be.length-1].observe()):be.splice(be.indexOf(l),1)}}function bc(e){const t=n=>{var r;n.key===oi.Escape&&((r=e.onEscapeKeyDown)==null||r.call(e,n))};R(()=>{var r;if(x(e.isDisabled))return;const n=((r=e.ownerDocument)==null?void 0:r.call(e))??Re();n.addEventListener("keydown",t),j(()=>{n.removeEventListener("keydown",t)})})}var oo="interactOutside.pointerDownOutside",io="interactOutside.focusOutside";function yc(e,t){let n,r=ic;const o=()=>Re(t()),i=f=>{var u;return(u=e.onPointerDownOutside)==null?void 0:u.call(e,f)},s=f=>{var u;return(u=e.onFocusOutside)==null?void 0:u.call(e,f)},l=f=>{var u;return(u=e.onInteractOutside)==null?void 0:u.call(e,f)},a=f=>{var g;const u=f.target;return!(u instanceof HTMLElement)||u.closest(`[${un}]`)||!xe(o(),u)||xe(t(),u)?!1:!((g=e.shouldExcludeElement)!=null&&g.call(e,u))},c=f=>{function u(){const g=t(),h=f.target;if(!g||!h||!a(f))return;const b=ye([i,l]);h.addEventListener(oo,b,{once:!0});const p=new CustomEvent(oo,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:f.button===2||Ya(f)&&f.button===0}});h.dispatchEvent(p)}f.pointerType==="touch"?(o().removeEventListener("click",u),r=u,o().addEventListener("click",u,{once:!0})):u()},d=f=>{const u=t(),g=f.target;if(!u||!g||!a(f))return;const h=ye([s,l]);g.addEventListener(io,h,{once:!0});const b=new CustomEvent(io,{bubbles:!1,cancelable:!0,detail:{originalEvent:f,isContextMenu:!1}});g.dispatchEvent(b)};R(()=>{x(e.isDisabled)||(n=window.setTimeout(()=>{o().addEventListener("pointerdown",c,!0)},0),o().addEventListener("focusin",d,!0),j(()=>{window.clearTimeout(n),o().removeEventListener("click",r),o().removeEventListener("pointerdown",c,!0),o().removeEventListener("focusin",d,!0)}))})}function ne(e){const[t,n]=V(e,["as"]);if(!t.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return y(No,T({get component(){return t.as}},n))}var mi=ze();function vc(){return Be(mi)}function pi(e){let t;const n=vc(),[r,o]=V(e,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),i=new Set([]),s=f=>{i.add(f);const u=n==null?void 0:n.registerNestedLayer(f);return()=>{i.delete(f),u==null||u()}};yc({shouldExcludeElement:f=>{var u;return t?((u=r.excludedElements)==null?void 0:u.some(g=>xe(g(),f)))||[...i].some(g=>xe(g,f)):!1},onPointerDownOutside:f=>{var u,g,h;!t||he.isBelowPointerBlockingLayer(t)||!r.bypassTopMostLayerCheck&&!he.isTopMostLayer(t)||((u=r.onPointerDownOutside)==null||u.call(r,f),(g=r.onInteractOutside)==null||g.call(r,f),f.defaultPrevented||(h=r.onDismiss)==null||h.call(r))},onFocusOutside:f=>{var u,g,h;(u=r.onFocusOutside)==null||u.call(r,f),(g=r.onInteractOutside)==null||g.call(r,f),f.defaultPrevented||(h=r.onDismiss)==null||h.call(r)}},()=>t),bc({ownerDocument:()=>Re(t),onEscapeKeyDown:f=>{var u;!t||!he.isTopMostLayer(t)||((u=r.onEscapeKeyDown)==null||u.call(r,f),!f.defaultPrevented&&r.onDismiss&&(f.preventDefault(),r.onDismiss()))}}),Bt(()=>{if(!t)return;he.addLayer({node:t,isPointerBlocking:r.disableOutsidePointerEvents,dismiss:r.onDismiss});const f=n==null?void 0:n.registerNestedLayer(t);he.assignPointerEventToLayers(),he.disableBodyPointerEvents(t),j(()=>{t&&(he.removeLayer(t),f==null||f(),he.assignPointerEventToLayers(),he.restoreBodyPointerEvents(t))})}),R(Xe([()=>t,()=>r.disableOutsidePointerEvents],([f,u])=>{if(!f)return;const g=he.find(f);g&&g.isPointerBlocking!==u&&(g.isPointerBlocking=u,he.assignPointerEventToLayers()),u&&he.disableBodyPointerEvents(f),j(()=>{he.restoreBodyPointerEvents(f)})},{defer:!0}));const d={registerNestedLayer:s};return y(mi.Provider,{value:d,get children(){return y(ne,T({as:"div",ref(f){var u=ue(g=>t=g,r.ref);typeof u=="function"&&u(f)}},o))}})}function yr(e){var s;const[t,n]=L((s=e.defaultValue)==null?void 0:s.call(e)),r=P(()=>{var l;return((l=e.value)==null?void 0:l.call(e))!==void 0}),o=P(()=>{var l;return r()?(l=e.value)==null?void 0:l.call(e):t()});return[o,l=>{ie(()=>{var c;const a=_a(l,o());return Object.is(a,o())||(r()||n(a),(c=e.onChange)==null||c.call(e,a)),a})}]}function wc(e){const[t,n]=yr(e);return[()=>t()??!1,n]}function bi(e={}){const[t,n]=wc({value:()=>x(e.open),defaultValue:()=>!!x(e.defaultOpen),onChange:s=>{var l;return(l=e.onOpenChange)==null?void 0:l.call(e,s)}}),r=()=>{n(!0)},o=()=>{n(!1)};return{isOpen:t,setIsOpen:n,open:r,close:o,toggle:()=>{t()?o():r()}}}function yi(e,t){const[n,r]=L(so(t==null?void 0:t()));return R(()=>{var o;r(((o=e())==null?void 0:o.tagName.toLowerCase())||so(t==null?void 0:t()))}),n}function so(e){return ht(e)?e:void 0}var xc=Object.defineProperty,wn=(e,t)=>{for(var n in t)xc(e,n,{get:t[n],enumerable:!0})},Sc={};wn(Sc,{Button:()=>Oc,Root:()=>Ut});var Cc=["button","color","file","image","reset","submit"];function kc(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?Cc.indexOf(e.type)!==-1:!1}function Ut(e){let t;const n=J({type:"button"},e),[r,o]=V(n,["ref","type","disabled"]),i=yi(()=>t,()=>"button"),s=P(()=>{const c=i();return c==null?!1:kc({tagName:c,type:r.type})}),l=P(()=>i()==="input"),a=P(()=>i()==="a"&&(t==null?void 0:t.getAttribute("href"))!=null);return y(ne,T({as:"button",ref(c){var d=ue(f=>t=f,r.ref);typeof d=="function"&&d(c)},get type(){return s()||l()?r.type:void 0},get role(){return!s()&&!a()?"button":void 0},get tabIndex(){return!s()&&!a()&&!r.disabled?0:void 0},get disabled(){return s()||l()?r.disabled:void 0},get"aria-disabled"(){return!s()&&!l()&&r.disabled?!0:void 0},get"data-disabled"(){return r.disabled?"":void 0}},o))}var Oc=Ut;function Ee(e){return t=>(e(t),()=>e(void 0))}var se=e=>typeof e=="function"?e():e,Qt=new Map,Ec=e=>{R(()=>{const t=se(e.style)??{},n=se(e.properties)??[],r={};for(const i in t)r[i]=e.element.style[i];const o=Qt.get(e.key);o?o.activeCount++:Qt.set(e.key,{activeCount:1,originalStyles:r,properties:n.map(i=>i.key)}),Object.assign(e.element.style,e.style);for(const i of n)e.element.style.setProperty(i.key,i.value);j(()=>{var s;const i=Qt.get(e.key);if(i){if(i.activeCount!==1){i.activeCount--;return}Qt.delete(e.key);for(const[l,a]of Object.entries(i.originalStyles))e.element.style[l]=a;for(const l of i.properties)e.element.style.removeProperty(l);e.element.style.length===0&&e.element.removeAttribute("style"),(s=e.cleanup)==null||s.call(e)}})})},lo=Ec,Ac=(e,t)=>{switch(t){case"x":return[e.clientWidth,e.scrollLeft,e.scrollWidth];case"y":return[e.clientHeight,e.scrollTop,e.scrollHeight]}},Ic=(e,t)=>{const n=getComputedStyle(e),r=t==="x"?n.overflowX:n.overflowY;return r==="auto"||r==="scroll"||e.tagName==="HTML"&&r==="visible"},Tc=(e,t,n)=>{const r=t==="x"&&window.getComputedStyle(e).direction==="rtl"?-1:1;let o=e,i=0,s=0,l=!1;do{const[a,c,d]=Ac(o,t),f=d-a-r*c;(c!==0||f!==0)&&Ic(o,t)&&(i+=f,s+=c),o===(n??document.documentElement)?l=!0:o=o._$host??o.parentElement}while(o&&!l);return[i,s]},[ao,co]=L([]),Lc=e=>ao().indexOf(e)===ao().length-1,Pc=e=>{const t=T({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},e),n=lt();let r=[0,0],o=null,i=null;R(()=>{se(t.enabled)&&(co(c=>[...c,n]),j(()=>{co(c=>c.filter(d=>d!==n))}))}),R(()=>{if(!se(t.enabled)||!se(t.hideScrollbar))return;const{body:c}=document,d=window.innerWidth-c.offsetWidth;if(se(t.preventScrollbarShift)){const f={overflow:"hidden"},u=[];d>0&&(se(t.preventScrollbarShiftMode)==="padding"?f.paddingRight=`calc(${window.getComputedStyle(c).paddingRight} + ${d}px)`:f.marginRight=`calc(${window.getComputedStyle(c).marginRight} + ${d}px)`,u.push({key:"--scrollbar-width",value:`${d}px`}));const g=window.scrollY,h=window.scrollX;lo({key:"prevent-scroll",element:c,style:f,properties:u,cleanup:()=>{se(t.restoreScrollPosition)&&d>0&&window.scrollTo(h,g)}})}else lo({key:"prevent-scroll",element:c,style:{overflow:"hidden"}})}),R(()=>{!Lc(n)||!se(t.enabled)||(document.addEventListener("wheel",l,{passive:!1}),document.addEventListener("touchstart",s,{passive:!1}),document.addEventListener("touchmove",a,{passive:!1}),j(()=>{document.removeEventListener("wheel",l),document.removeEventListener("touchstart",s),document.removeEventListener("touchmove",a)}))});const s=c=>{r=uo(c),o=null,i=null},l=c=>{const d=c.target,f=se(t.element),u=$c(c),g=Math.abs(u[0])>Math.abs(u[1])?"x":"y",h=g==="x"?u[0]:u[1],b=fo(d,g,h,f);let p;f&&nr(f,d)?p=!b:p=!0,p&&c.cancelable&&c.preventDefault()},a=c=>{const d=se(t.element),f=c.target;let u;if(c.touches.length===2)u=!se(t.allowPinchZoom);else{if(o==null||i===null){const g=uo(c).map((b,p)=>r[p]-b),h=Math.abs(g[0])>Math.abs(g[1])?"x":"y";o=h,i=h==="x"?g[0]:g[1]}if(f.type==="range")u=!1;else{const g=fo(f,o,i,d);d&&nr(d,f)?u=!g:u=!0}}u&&c.cancelable&&c.preventDefault()}},$c=e=>[e.deltaX,e.deltaY],uo=e=>e.changedTouches[0]?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0],fo=(e,t,n,r)=>{const o=r!==null&&nr(r,e),[i,s]=Tc(e,t,o?r:void 0);return!(n>0&&Math.abs(i)<=1||n<0&&Math.abs(s)<1)},nr=(e,t)=>{if(e.contains(t))return!0;let n=t;for(;n;){if(n===e)return!0;n=n._$host??n.parentElement}return!1},Dc=Pc,vi=Dc,Mc=e=>{const t=P(()=>{const s=se(e.element);if(s)return getComputedStyle(s)}),n=()=>{var s;return((s=t())==null?void 0:s.animationName)??"none"},[r,o]=L(se(e.show)?"present":"hidden");let i="none";return R(s=>{const l=se(e.show);return ie(()=>{var d;if(s===l)return l;const a=i,c=n();l?o("present"):c==="none"||((d=t())==null?void 0:d.display)==="none"?o("hidden"):o(s===!0&&a!==c?"hiding":"hidden")}),l}),R(()=>{const s=se(e.element);if(!s)return;const l=c=>{c.target===s&&(i=n())},a=c=>{const f=n().includes(c.animationName);c.target===s&&f&&r()==="hiding"&&o("hidden")};s.addEventListener("animationstart",l),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),j(()=>{s.removeEventListener("animationstart",l),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)})}),{present:()=>r()==="present"||r()==="hiding",state:r}},Fc=Mc,rr=Fc,_c={};wn(_c,{CloseButton:()=>xi,Content:()=>Si,Description:()=>Ci,Dialog:()=>Ie,Overlay:()=>ki,Portal:()=>Oi,Root:()=>Ei,Title:()=>Ai,Trigger:()=>Ii});var wi=ze();function ct(){const e=Be(wi);if(e===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return e}function xi(e){const t=ct(),[n,r]=V(e,["aria-label","onClick"]);return y(Ut,T({get"aria-label"(){return n["aria-label"]||t.translations().dismiss},onClick:i=>{fe(i,n.onClick),t.close()}},r))}function Si(e){let t;const n=ct(),r=J({id:n.generateId("content")},e),[o,i]=V(r,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let s=!1,l=!1;const a=u=>{var g;(g=o.onPointerDownOutside)==null||g.call(o,u),n.modal()&&u.detail.isContextMenu&&u.preventDefault()},c=u=>{var g;(g=o.onFocusOutside)==null||g.call(o,u),n.modal()&&u.preventDefault()},d=u=>{var g;(g=o.onInteractOutside)==null||g.call(o,u),!n.modal()&&(u.defaultPrevented||(s=!0,u.detail.originalEvent.type==="pointerdown"&&(l=!0)),xe(n.triggerRef(),u.target)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l&&u.preventDefault())},f=u=>{var g;(g=o.onCloseAutoFocus)==null||g.call(o,u),n.modal()?(u.preventDefault(),le(n.triggerRef())):(u.defaultPrevented||(s||le(n.triggerRef()),u.preventDefault()),s=!1,l=!1)};return hi({isDisabled:()=>!(n.isOpen()&&n.modal()),targets:()=>t?[t]:[]}),vi({element:()=>t??null,enabled:()=>n.isOpen()&&n.preventScroll()}),fi({trapFocus:()=>n.isOpen()&&n.modal(),onMountAutoFocus:o.onOpenAutoFocus,onUnmountAutoFocus:f},()=>t),R(()=>j(n.registerContentId(i.id))),y(Y,{get when(){return n.contentPresent()},get children(){return y(pi,T({ref(u){var g=ue(h=>{n.setContentRef(h),t=h},o.ref);typeof g=="function"&&g(u)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return P(()=>!!n.modal())()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},get"aria-labelledby"(){return n.titleId()},get"aria-describedby"(){return n.descriptionId()},get"data-expanded"(){return n.isOpen()?"":void 0},get"data-closed"(){return n.isOpen()?void 0:""},onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:d,get onDismiss(){return n.close}},i))}})}function Ci(e){const t=ct(),n=J({id:t.generateId("description")},e),[r,o]=V(n,["id"]);return R(()=>j(t.registerDescriptionId(r.id))),y(ne,T({as:"p",get id(){return r.id}},o))}function ki(e){const t=ct(),[n,r]=V(e,["ref","style","onPointerDown"]),o=i=>{fe(i,n.onPointerDown),i.target===i.currentTarget&&i.preventDefault()};return y(Y,{get when(){return t.overlayPresent()},get children(){return y(ne,T({as:"div",ref(i){var s=ue(t.setOverlayRef,n.ref);typeof s=="function"&&s(i)},get style(){return{"pointer-events":"auto",...n.style}},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onPointerDown:o},r))}})}function Oi(e){const t=ct();return y(Y,{get when(){return t.contentPresent()||t.overlayPresent()},get children(){return y(Ro,e)}})}var go={dismiss:"Dismiss"};function Ei(e){const t=`dialog-${lt()}`,n=J({id:t,modal:!0,translations:go},e),[r,o]=L(),[i,s]=L(),[l,a]=L(),[c,d]=L(),[f,u]=L(),[g,h]=L(),b=bi({open:()=>n.open,defaultOpen:()=>n.defaultOpen,onOpenChange:C=>{var w;return(w=n.onOpenChange)==null?void 0:w.call(n,C)}}),p=()=>n.forceMount||b.isOpen(),{present:v}=rr({show:p,element:()=>c()??null}),{present:m}=rr({show:p,element:()=>f()??null}),S={translations:()=>n.translations??go,isOpen:b.isOpen,modal:()=>n.modal??!0,preventScroll:()=>n.preventScroll??S.modal(),contentId:r,titleId:i,descriptionId:l,triggerRef:g,overlayRef:c,setOverlayRef:d,contentRef:f,setContentRef:u,overlayPresent:v,contentPresent:m,close:b.close,toggle:b.toggle,setTriggerRef:h,generateId:jt(()=>n.id),registerContentId:Ee(o),registerTitleId:Ee(s),registerDescriptionId:Ee(a)};return y(wi.Provider,{value:S,get children(){return n.children}})}function Ai(e){const t=ct(),n=J({id:t.generateId("title")},e),[r,o]=V(n,["id"]);return R(()=>j(t.registerTitleId(r.id))),y(ne,T({as:"h2",get id(){return r.id}},o))}function Ii(e){const t=ct(),[n,r]=V(e,["ref","onClick"]);return y(Ut,T({ref(i){var s=ue(t.setTriggerRef,n.ref);typeof s=="function"&&s(i)},"aria-haspopup":"dialog",get"aria-expanded"(){return t.isOpen()},get"aria-controls"(){return P(()=>!!t.isOpen())()?t.contentId():void 0},get"data-expanded"(){return t.isOpen()?"":void 0},get"data-closed"(){return t.isOpen()?void 0:""},onClick:i=>{fe(i,n.onClick),t.toggle()}},r))}var Ie=Object.assign(Ei,{CloseButton:xi,Content:Si,Description:Ci,Overlay:ki,Portal:Oi,Title:Ai,Trigger:Ii});const en={default:"inline-flex h-[var(--input-height)] cursor-[var(--cursor)] select-none items-center justify-center whitespace-nowrap rounded-button border-0 p-button text-[length:var(--font-ui-small)] font-[var(--input-font-weight)] text-normal outline-none bg-interactive-normal hover:bg-interactive-hover shadow-['var(--input-shadow)']",ghost:"bg-transparent shadow-none",outline:"bg-transparent shadow-none border-border border-[length:var(--prompt-border-width)]",accent:"bg-interactive-accent text-on-accent hover:bg-interactive-accent-hover hover:text-accent-hover",destructive:"bg-error hover:bg-error hover:opacity-70 text-on-error"};var Kc=$('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M18 6L6 18M6 6l12 12">'),Rc=$("<div class=twcss>"),Ti=$("<div>");const xn=Ie,vr=Ie.Trigger,Vn=e=>{const[t,n]=V(e,["class"]);return y(Ie.CloseButton,T(n,{get class(){return Ce(en.default,t.class)}}))},Nc=()=>y(Ie.CloseButton,{class:"clickable-icon absolute right-4 top-4 rounded-sm p-1 opacity-70 ring-offset-background transition-[opacity,box-shadow] hover:opacity-100 focus:outline-none focus:ring-[1.5px] focus:ring-selection focus:ring-offset-2 disabled:pointer-events-none",get children(){return Kc()}}),Sn=e=>{const[t,n]=V(e,["class","children"]);return y(Ie.Portal,{get children(){var r=Rc();return M(r,y(Ie.Overlay,T({get class(){return Ce("modal-bg z-50 opacity-85")}},n)),null),M(r,y(Ie.Content,T({get class(){return Ce("prompt left-1/2 z-50 w-full -translate-x-1/2 gap-4 border-[length:var(--prompt-border-width)] border-modal p-6",t.class)}},n,{get children(){return[P(()=>t.children),y(Nc,{})]}})),null),r}})},Cn=e=>{const[t,n]=V(e,["class"]);return y(Ie.Title,T({get class(){return Ce("text-foreground m-0 text-lg font-semibold",t.class)}},n))},Li=e=>{const[t,n]=V(e,["class"]);return y(Ie.Description,T({get class(){return Ce("text-muted-foreground m-0 text-sm",t.class)}},n))},Vc=e=>{const[t,n]=V(e,["class"]);return(()=>{var r=Ti();return et(r,T({get class(){return Ce("flex flex-col space-y-2 text-center sm:text-left",t.class)}},n),!1,!1),r})()},Pi=e=>{const[t,n]=V(e,["class"]);return(()=>{var r=Ti();return et(r,T({get class(){return Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t.class)}},n),!1,!1),r})()};var zc=$("<span class=cm-link><a>"),Bc=$("<span class=external-link>");const $i=e=>[(()=>{var t=zc(),n=t.firstChild;return et(n,T(e,{class:"text-accent underline hover:text-accent-hover"}),!1,!1),t})(),Bc()];var jc=[["path",{d:"M5 12h14",key:"1ays0h"}]],Wc=e=>y(at,T(e,{name:"Minus",iconNode:jc})),Uc=Wc,Hc=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}]],qc=e=>y(at,T(e,{name:"Parentheses",iconNode:Hc})),Gc=qc,Yc=$('<input autofocus class="h-auto rounded-none border-none bg-transparent p-0 !shadow-none"type=number>'),Xc=$('<div class="flex w-full items-center gap-1"><button class="clickable-icon size-fit p-1"></button><button class="clickable-icon size-fit p-1">'),Qc=$("<br>"),Zc=$("<code>x"),Jc=$('<input autofocus class="border-border px-1"type=text placeholder="x + 2 / x * 3">'),eu=$("<span class=text-error>error"),tu=$("<p><span>Calculated:&nbsp;"),nu=$('<button class="rounded-button bg-interactive-accent p-button text-on-accent hover:bg-interactive-accent-hover">update'),ru=$("<span class=text-success>");const ou=e=>{var o;const[t,n]=L(((o=e.value)==null?void 0:o.toString().length)??5),{plugin:r}=we();return(()=>{var i=Yc();return i.$$input=s=>{n(s.target.value.length)},i.addEventListener("blur",async s=>{await Te(e.property,pl(s.target.value),e.filePath,r,e.value),e.setEditing(!1)}),je(Ct,i,()=>!0),z(()=>Ke(i,"size",t())),z(()=>{var s;return i.value=((s=e.value)==null?void 0:s.toString())??""}),i})()},iu=e=>(()=>{var t=Xc(),n=t.firstChild,r=n.nextSibling;return n.$$click=async o=>{o.preventDefault(),await Te(e.property,e.value-1,e.filePath,e.plugin,e.value)},M(n,y(Uc,{class:"pointer-events-none size-3"})),M(t,y(su,e),r),r.$$click=async o=>{o.preventDefault(),await Te(e.property,e.value+1,e.filePath,e.plugin,e.value)},M(r,y(vn,{class:"pointer-events-none size-3"})),t})(),su=e=>{const[t,n]=L(!1),[r,o]=L(Number(e.value)),i=async s=>{await Te(e.property,s,e.filePath,e.plugin,e.value)};return y(xn,{modal:!0,get open(){return t()},onOpenChange:s=>n(s),get children(){return[y(vr,{class:"clickable-icon size-fit p-1",get children(){return y(Gc,{class:"pointer-events-none size-3"})}}),y(Sn,{get children(){return[y(Vc,{get children(){return[y(Cn,{children:"Update by expression"}),y(Li,{get children(){return["Enter a valid"," ",y($i,{href:"https://blacksmithgu.github.io/obsidian-dataview/reference/expressions/",children:"Dataview mathematical expression"}),Qc(),"You can use ",Zc()," as the current value."]}})]}}),(()=>{var s=Jc();return s.$$input=async l=>{const a=l.target.value.replaceAll("x",e.value.toString()).trim(),c=await app.plugins.plugins.dataview.api.evaluate(a);o(()=>c.successful?Number(c.value):NaN)},s.$$keydown=async l=>{l.key==="Enter"&&!Number.isNaN(r())&&(await i(r()),n(!1))},je(Ct,s,()=>!0),s})(),(()=>{var s=tu();return s.firstChild,M(s,y(Y,{get when(){return Number.isNaN(r())},get fallback(){return(()=>{var l=ru();return M(l,r),l})()},get children(){return eu()}}),null),s})(),y(Pi,{get children(){var s=nu();return s.$$click=async()=>{await i(r()),n(!1)},z(()=>s.disabled=Number.isNaN(r())),s}})]}})]}})};$e(["input","click","keydown"]);var lu=$('<td class="whitespace-normal text-nowrap"tabindex=0>'),au=$("<div>"),cu=$("<div class=size-full>");const uu=e=>{const[t,n]=L(!1),{plugin:r,dataviewAPI:{settings:{tableIdColumnName:o,defaultDateFormat:i,defaultDateTimeFormat:s},luxon:l},config:a,ctx:c}=we(),d=P(()=>bl(e.value,e.header,l)),f=u=>{const g=(u??"").toLowerCase();return!(g===Wo.toLowerCase()||g===o.toLowerCase()||g.includes("file."))};return(()=>{var u=lu();return Yn(u,"mousemove",e.onMouseMove,!0),u.$$click=g=>{g.target.tagName.toLowerCase()!=="button"&&d()!=="list"&&n(!0)},M(u,y(Y,{get when(){return d()!=="list"},get fallback(){return y(Pa,e)},get children(){return[y(Y,{get when(){return P(()=>!!(!a.lockEditing&&t()))()&&f(e.property)},get fallback(){return(()=>{var g=au();return Yn(g,"click",f(e.property)||a.lockEditing?void 0:()=>new ce.Notice("This is a calculated property, so you can't edit it!"),!0),M(g,y(du,T(e,{setEditing:n,get valueType(){return d()},plugin:r,ctx:c,defaultDateFormat:i,defaultDateTimeFormat:s}))),g})()},get children(){return y(fu,T(e,{setEditing:n,get valueType(){return d()}}))}}),y(Y,{get when(){return d()==="number"&&f(e.property)&&!a.lockEditing},get children(){return y(iu,T(e,{plugin:r}))}})]}})),z(g=>vt(u,e.style,g)),u})()},du=e=>[y(Y,{get when(){return e.valueType==="text"||e.valueType==="number"},get children(){return y(yn,{class:"size-full",get app(){return e.plugin.app},get markdown(){return Uo(e.value)},get sourcePath(){return e.ctx.sourcePath}})}}),y(Y,{get when(){return e.valueType==="checkbox"},get children(){return y(Ca,e)}}),y(Y,{get when(){return e.valueType==="date"||e.valueType==="datetime"},get children(){var t=cu();return M(t,()=>e.value.toFormat(dr(e.value)?e.defaultDateTimeFormat:e.defaultDateFormat)),t}})],fu=e=>[y(Y,{get when(){return e.valueType==="text"},get children(){return y(ti,e)}}),y(Y,{get when(){return e.valueType==="number"},get children(){return y(ou,e)}}),y(Y,{get when(){return e.valueType==="date"||e.valueType==="datetime"},get children(){return y(Oa,e)}})];$e(["click","mousemove"]);var gu=$("<tbody>"),hu=$("<tr>");const ho={"border-left-width":"2px","border-right-width":"2px","border-left-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))","border-right-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))","background-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l) / 10%)"},Di={"border-right-width":"2px","border-right-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))"},Mi={"border-left-width":"2px","border-left-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))"},mu={"border-bottom-width":"2px","border-bottom-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))"},pu=e=>{const{dataviewAPI:{settings:{tableIdColumnName:t}}}=we();return(()=>{var n=gu();return M(n,y(ve,{get each(){return e.rows},children:(r,o)=>(()=>{var i=hu();return M(i,y(ve,{each:r,children:(s,l)=>y(uu,{value:s,get header(){return e.headers[l()]},get property(){return e.properties[l()]},get filePath(){return r[wl(e.headers,t)].path??""},onMouseMove:()=>{e.highlightIndex!==-1&&e.setDraggedOverIndex(l())},get style(){return P(()=>l()===e.highlightIndex)()?o()===e.rows.length-1?{...ho,...mu}:ho:P(()=>l()===e.draggedOverIndex)()?e.highlightIndex<l()?Di:Mi:{}}})})),i})()})),n})()};var bu=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],yu=e=>y(at,T(e,{name:"GripHorizontal",iconNode:bu})),vu=yu,wu=$("<thead><tr></tr><tr>"),xu=$('<th><div aria-roledescription=column-drag-handle class="flex size-full items-end justify-center">'),Su=$('<th class="relative text-nowrap">');const Cu=e=>{const{plugin:t,ctx:n,el:r,query:o,dataviewAPI:{settings:{tableIdColumnName:i}}}=we(),[s,l]=L(0);let a=0;const c=f=>{e.highlightIndex!==-1&&l(()=>f.clientX-a)},d=()=>{if(e.draggedOverIndex!==-1&&e.draggedOverIndex!==e.highlightIndex){const{app:{workspace:f}}=t,u=f.getActiveViewOfType(ce.MarkdownView),g=n.getSectionInfo(r);if(!g||!u)throw new Error("This should be impossible");const{lineStart:h}=g,{line:b,index:p}=Zn(o),v=h+p+1,m=new RegExp(/TABLE\s+WITHOUT\s+ID/gim).test(b),S=!m&&e.highlightIndex===0&&e.headers[e.highlightIndex]===i,C=!m&&e.draggedOverIndex===0&&e.headers[e.draggedOverIndex]===i,w=S||C,O=w?b.replace(/table/i,"TABLE WITHOUT ID"):b,A=O.slice(0,m||w?16:5).trim(),I=O.slice(m||w?17:6).split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/).map(D=>D.trim()),F=w?["file.link AS "+i,...I]:I,K=e.highlightIndex-(m||w?0:1),G=e.draggedOverIndex-(m||w?0:1),ee=F.toSpliced(K,1).toSpliced(G,0,F[K]),B=Tl(u),Q=B.scrollTop;u.editor.setLine(v,A+" "+ee.join(", ")),setTimeout(()=>B.scrollTo({top:Q,behavior:"instant"}),0)}e.setHighlightIndex(-1),e.setDraggedOverIndex(-1),l(0),a=0,window.removeEventListener("mousemove",c)};return window.addEventListener("mouseup",d),j(()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",d)}),(()=>{var f=wu(),u=f.firstChild,g=u.nextSibling;return M(u,y(ve,{get each(){return e.headers},children:(h,b)=>(()=>{var p=xu(),v=p.firstChild;return p.$$mousemove=()=>{e.highlightIndex!==-1&&e.setDraggedOverIndex(b())},p.$$mousedown=m=>{e.setHighlightIndex(b()),l(0),a=m.clientX,window.addEventListener("mousemove",c)},M(v,y(vu,{size:"1rem"})),z(m=>{var S=`relative m-0 cursor-grab overflow-visible border-x-transparent border-t-transparent p-0 text-muted active:cursor-grabbing ${b()===e.highlightIndex?"opacity-100":"opacity-0"} ${e.highlightIndex===-1?"hover:opacity-100":""}`,C=b()===e.highlightIndex?{background:"hsl(var(--accent-h) var(--accent-s) var(--accent-l))","border-radius":"var(--radius-s) var(--radius-s) 0 0",translate:s()+"px 0","pointer-events":"none"}:e.highlightIndex!==-1?{cursor:"grabbing"}:{};return S!==m.e&&bn(p,m.e=S),m.t=vt(v,C,m.t),m},{e:void 0,t:void 0}),p})()})),M(g,y(ve,{get each(){return e.headers},children:(h,b)=>(()=>{var p=Su();return p.$$mousemove=()=>{e.highlightIndex!==-1&&e.setDraggedOverIndex(b())},M(p,y(yn,{get app(){return t.app},markdown:h,get sourcePath(){return n.sourcePath}})),z(v=>vt(p,b()===e.highlightIndex?{"border-top-width":"2px","border-left-width":"2px","border-right-width":"2px","border-top-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))","border-left-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))","border-right-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l))","background-color":"hsl(var(--accent-h) var(--accent-s) var(--accent-l) / 10%)"}:e.highlightIndex!==-1&&b()===e.draggedOverIndex?e.highlightIndex<b()?Di:Mi:{},v)),p})()})),f})()};$e(["mousedown","mousemove"]);var ku=$('<div class="relative mb-4 mr-4 h-fit w-fit"><table></table><span aria-label="Add row after"class="absolute bottom-[-1rem] left-0 flex w-full cursor-ns-resize items-center justify-center rounded-[1px] border border-t-0 border-solid border-border opacity-0 hover:opacity-50">'),Ou=$("<div><h2>Dataview error</h2><p>"),Eu=$('<div class="flex w-full flex-wrap items-center justify-between"><label for=property-input>Property: </label><input autofocus name=property-input id=property-input type=text list=properties-datalist><datalist id=properties-datalist>'),Au=$('<div class="flex w-full flex-wrap items-center justify-between"><label for=alias-input>Alias (optional): </label><input name=alias-input id=alias-input type=text>'),Fi=$('<div class=w-full><button class="float-right bg-interactive-accent p-button text-on-accent hover:bg-interactive-accent-hover hover:text-accent-hover disabled:cursor-not-allowed">add'),_i=$("<option>"),Iu=$('<div class="flex w-full items-center justify-between"><label for=title-input>Title: </label><input autofocus name=title-input id=title-input type=text>'),Tu=$("<datalist id=template-datalist>"),Lu=$('<div class="flex w-full items-center justify-between"><label for=template-input>Template (optional): </label><input name=template-input id=template-input type=text list=template-datalist>'),Pu=$('<div class="flex items-center gap-1"><input type=checkbox id=save-as-default-template name=save-as-default-template><label for=save-as-default-template>Save as default for this block');const $u=e=>{const{config:{tableClassName:t}}=we(),[n,r]=L(-1),[o,i]=L(-1),[s,l]=L(!1),[a,c]=L(!1);return y(Y,{get when(){return e.queryResults.successful},get fallback(){return y(Du,{get queryResults(){return e.queryResults}})},get children(){var d=ku(),f=d.firstChild,u=f.nextSibling;return bn(f,t),M(f,y(Cu,{get headers(){return e.queryResults.value.headers},get properties(){return e.queryResults.truePropertyNames},get highlightIndex(){return n()},setHighlightIndex:r,get draggedOverIndex(){return o()},setDraggedOverIndex:i}),null),M(f,y(pu,{get headers(){return e.queryResults.value.headers},get properties(){return e.queryResults.truePropertyNames},get rows(){return e.queryResults.value.values},get highlightIndex(){return n()},setHighlightIndex:r,get draggedOverIndex(){return o()},setDraggedOverIndex:i}),null),M(d,y(Mu,{get open(){return s()},setOpen:l}),u),u.$$click=()=>c(!0),M(u,y(vn,{size:"1rem"})),M(d,y(Fu,{get open(){return a()},setOpen:c}),null),z(g=>vt(f,n()!==-1?{"user-select":"none"}:{},g)),d}})},Du=e=>(()=>{var t=Ou(),n=t.firstChild,r=n.nextSibling;return M(r,()=>e.queryResults.error),t})(),Mu=e=>{const{plugin:{app:t},ctx:n,el:r,query:o}=we(),i=t.workspace.getActiveViewOfType(ce.MarkdownView);if(!i)return;const s=n.getSectionInfo(r);if(!s)return;const{lineStart:l}=s,[a,c]=L(""),[d,f]=L(""),u=P(()=>{const p=a().trim(),v=("```dataview\n"+o+"\n```").split(`
`);if(!p)return v.join(`
`);const m=d(),S=m?" AS "+(m.includes(" ")?'"'+m+'"':m):"",{index:C}=Zn(o);return v[C+1]+=", "+p+S,v.join(`
`)}),g=()=>{const p=a().trim(),v=d(),m=v?" AS "+(v.includes(" ")?'"'+v+'"':v):"",{line:S,index:C}=Zn(o),w=l+C+1;i.editor.setLine(w,S+", "+p+m)},h=Al(t),b=Object.keys(h).sort();return y(xn,{get open(){return e.open},onOpenChange:p=>e.setOpen(p),get children(){return[y(vr,{"aria-label":"Add column after",class:"absolute right-[-1rem] top-[calc(1rem+var(--border-width))] m-0 flex size-fit h-[calc(100%-1rem-var(--border-width))] cursor-ew-resize items-center justify-center rounded-none border border-l-0 border-solid border-border bg-transparent p-0 opacity-0 shadow-none hover:opacity-50",get children(){return y(vn,{size:"1rem"})}}),y(Sn,{get children(){return[y(Cn,{children:"Add column"}),(()=>{var p=Eu(),v=p.firstChild,m=v.nextSibling,S=m.nextSibling;return m.$$input=C=>c(C.target.value),je(Ct,m,()=>!0),M(S,y(ve,{each:b,children:C=>(()=>{var w=_i();return w.value=C,M(w,()=>h[C].type),w})()})),z(()=>m.value=a()),p})(),(()=>{var p=Au(),v=p.firstChild,m=v.nextSibling;return m.$$input=S=>f(S.target.value),z(()=>m.value=d()),p})(),y(yn,{app:t,get markdown(){return u()},get sourcePath(){return n.sourcePath},class:"max-h-[50%] overflow-y-auto"}),(()=>{var p=Fi(),v=p.firstChild;return v.$$click=async()=>{g(),e.setOpen(!1)},z(()=>v.disabled=!a()),p})()]}})]}})},Fu=e=>{const t=we(),{plugin:{app:n},config:r}=t,[o,i]=L(""),[s,l]=L(""),[a,c]=L(!1),d=qo(n);return(()=>{if(!r.newNoteTemplatePath)return;const u=d==null?void 0:d.find(g=>g.path===r.newNoteTemplatePath);u&&l(u.name.slice(0,-3))})(),y(xn,{get open(){return e.open},onOpenChange:u=>e.setOpen(u),get children(){return y(Sn,{get children(){return[y(Cn,{children:"Create new note"}),(()=>{var u=Iu(),g=u.firstChild,h=g.nextSibling;return h.$$input=b=>i(b.target.value),je(Ct,h,()=>!0),z(()=>h.value=o()),u})(),(()=>{var u=Lu(),g=u.firstChild,h=g.nextSibling;return h.$$input=b=>l(b.target.value),h.disabled=!d,M(u,y(Y,{when:d,get children(){var b=Tu();return M(b,y(ve,{each:d,children:p=>(()=>{var v=_i();return M(v,()=>p.path),z(()=>v.value=p.name.slice(0,-3)),v})()})),b}}),null),z(()=>h.value=s()),u})(),(()=>{var u=Pu(),g=u.firstChild;return g.$$click=()=>c(h=>!h),z(()=>g.checked=a()),u})(),(()=>{var u=Fi(),g=u.firstChild;return g.$$click=async()=>{const h=o().includes(".md")?o():o()+".md";if(!d)try{await n.vault.create(h,""),e.setOpen(!1);return}catch{new ce.Notice("Note already exists, choose a different name");return}const b=d.find(v=>v.name===s()+".md"),p=await n.vault.cachedRead(b);try{await n.vault.create(h,p)}catch{new ce.Notice("Note already exists, choose a different name");return}if(a()){const v=d.find(m=>m.name===s()+".md").path;Ho("newNoteTemplatePath",v,t)}e.setOpen(!1)},z(()=>g.disabled=!o()),u})()]}})}})};$e(["click","input"]);var _u=$("<div><input type=checkbox>");const Ku=e=>{const[t,n]=V(e,["containerClass","onCheckedChange"]),[r,o]=L(!!n.checked);return(()=>{var i=_u(),s=i.firstChild;return i.$$click=()=>{o(l=>(t.onCheckedChange&&t.onCheckedChange(!l),!l))},et(s,T(n,{get checked(){return r()}}),!1,!1),z(()=>bn(i,`checkbox-container ${r()?"is-enabled":" "}`)),i})()};$e(["click"]);var Ru=["id","name","validationState","required","disabled","readOnly"];function Nu(e){const t=`form-control-${lt()}`,n=J({id:t},e),[r,o]=L(),[i,s]=L(),[l,a]=L(),[c,d]=L(),f=(b,p,v)=>{const m=v!=null||r()!=null;return[v,r(),m&&p!=null?b:void 0].filter(Boolean).join(" ")||void 0},u=b=>[l(),c(),b].filter(Boolean).join(" ")||void 0,g=P(()=>({"data-valid":x(n.validationState)==="valid"?"":void 0,"data-invalid":x(n.validationState)==="invalid"?"":void 0,"data-required":x(n.required)?"":void 0,"data-disabled":x(n.disabled)?"":void 0,"data-readonly":x(n.readOnly)?"":void 0}));return{formControlContext:{name:()=>x(n.name)??x(n.id),dataset:g,validationState:()=>x(n.validationState),isRequired:()=>x(n.required),isDisabled:()=>x(n.disabled),isReadOnly:()=>x(n.readOnly),labelId:r,fieldId:i,descriptionId:l,errorMessageId:c,getAriaLabelledBy:f,getAriaDescribedBy:u,generateId:jt(()=>x(n.id)),registerLabel:Ee(o),registerField:Ee(s),registerDescription:Ee(a),registerErrorMessage:Ee(d)}}}var Ki=ze();function We(){const e=Be(Ki);if(e===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return e}function Ri(e){const t=We(),n=J({id:t.generateId("description")},e);return R(()=>j(t.registerDescription(n.id))),y(ne,T({as:"div"},()=>t.dataset(),n))}function Ni(e){const t=We(),n=J({id:t.generateId("error-message")},e),[r,o]=V(n,["forceMount"]),i=()=>t.validationState()==="invalid";return R(()=>{i()&&j(t.registerErrorMessage(o.id))}),y(Y,{get when(){return r.forceMount||i()},get children(){return y(ne,T({as:"div"},()=>t.dataset(),o))}})}function Vi(e){let t;const n=We(),r=J({id:n.generateId("label")},e),[o,i]=V(r,["ref"]),s=yi(()=>t,()=>"label");return R(()=>j(n.registerLabel(i.id))),y(ne,T({as:"label",ref(l){var a=ue(c=>t=c,o.ref);typeof a=="function"&&a(l)},get for(){return P(()=>s()==="label")()?n.fieldId():void 0}},()=>n.dataset(),i))}var Vu=["id","aria-label","aria-labelledby","aria-describedby"];function zu(e){const t=We(),n=J({id:t.generateId("field")},e);return R(()=>j(t.registerField(x(n.id)))),{fieldProps:{id:()=>x(n.id),ariaLabel:()=>x(n["aria-label"]),ariaLabelledBy:()=>t.getAriaLabelledBy(x(n.id),x(n["aria-label"]),x(n["aria-labelledby"])),ariaDescribedBy:()=>t.getAriaDescribedBy(x(n["aria-describedby"]))}}}function Bu(e,t){R(Xe(e,n=>{if(n==null)return;const r=ju(n);r!=null&&(r.addEventListener("reset",t,{passive:!0}),j(()=>{r.removeEventListener("reset",t)}))}))}function ju(e){return Wu(e)?e.form:e.closest("form")}function Wu(e){return e.matches("textarea, input, select, button")}function zi(e){let t=e.startIndex??0;const n=e.startLevel??0,r=[],o=a=>{if(a==null)return"";const c=e.getKey??"key",d=ht(c)?a[c]:c(a);return d!=null?String(d):""},i=a=>{if(a==null)return"";const c=e.getTextValue??"textValue",d=ht(c)?a[c]:c(a);return d!=null?String(d):""},s=a=>{if(a==null)return!1;const c=e.getDisabled??"disabled";return(ht(c)?a[c]:c(a))??!1},l=a=>{var c;if(a!=null)return ht(e.getSectionChildren)?a[e.getSectionChildren]:(c=e.getSectionChildren)==null?void 0:c.call(e,a)};for(const a of e.dataSource){if(ht(a)||Ba(a)){r.push({type:"item",rawValue:a,key:String(a),textValue:String(a),disabled:s(a),level:n,index:t}),t++;continue}if(l(a)!=null){r.push({type:"section",rawValue:a,key:"",textValue:"",disabled:!1,level:n,index:t}),t++;const c=l(a)??[];if(c.length>0){const d=zi({dataSource:c,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:n+1});r.push(...d),t+=d.length}}else r.push({type:"item",rawValue:a,key:o(a),textValue:i(a),disabled:s(a),level:n,index:t}),t++}return r}function Uu(e,t=[]){return P(()=>{const n=zi({dataSource:x(e.dataSource),getKey:x(e.getKey),getTextValue:x(e.getTextValue),getDisabled:x(e.getDisabled),getSectionChildren:x(e.getSectionChildren)});for(let r=0;r<t.length;r++)t[r]();return e.factory(n)})}var Hu=new Set(["Avst","Arab","Armi","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),qu=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function Gu(e){if(Intl.Locale){const n=new Intl.Locale(e).maximize().script??"";return Hu.has(n)}const t=e.split("-")[0];return qu.has(t)}function Yu(e){return Gu(e)?"rtl":"ltr"}function Bi(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:Yu(e)}}var or=Bi(),Dt=new Set;function mo(){or=Bi();for(const e of Dt)e(or)}function Xu(){const[e,t]=L(or),n=P(()=>e());return Bt(()=>{Dt.size===0&&window.addEventListener("languagechange",mo),Dt.add(t),j(()=>{Dt.delete(t),Dt.size===0&&window.removeEventListener("languagechange",mo)})}),{locale:()=>n().locale,direction:()=>n().direction}}var Qu=ze();function wr(){const e=Xu();return Be(Qu)||e}var zn=new Map;function ji(e){const{locale:t}=wr(),n=P(()=>t()+(e?Object.entries(e).sort((r,o)=>r[0]<o[0]?-1:1).join():""));return P(()=>{const r=n();let o;return zn.has(r)&&(o=zn.get(r)),o||(o=new Intl.Collator(t(),e),zn.set(r,o)),o})}function Wi(e){const t=ji({usage:"search",...e});return{startsWith:(i,s)=>{if(s.length===0)return!0;const l=i.normalize("NFC"),a=s.normalize("NFC");return t().compare(l.slice(0,a.length),a)===0},endsWith:(i,s)=>{if(s.length===0)return!0;const l=i.normalize("NFC"),a=s.normalize("NFC");return t().compare(l.slice(-a.length),a)===0},contains:(i,s)=>{if(s.length===0)return!0;const l=i.normalize("NFC"),a=s.normalize("NFC");let c=0;const d=s.length;for(;c+d<=l.length;c++){const f=l.slice(c,c+d);if(t().compare(a,f)===0)return!0}return!1}}}var Oe=class Ui extends Set{constructor(n,r,o){super(n);de(this,"anchorKey");de(this,"currentKey");n instanceof Ui?(this.anchorKey=r||n.anchorKey,this.currentKey=o||n.currentKey):(this.anchorKey=r,this.currentKey=o)}};function Zu(e){const[t,n]=yr(e);return[()=>t()??new Oe,n]}function Hi(e){return Jt()?e.altKey:e.ctrlKey}function mt(e){return Wt()?e.metaKey:e.ctrlKey}function po(e){return new Oe(e)}function qi(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Ju(e){const t=J({selectionMode:"none",selectionBehavior:"toggle"},e),[n,r]=L(!1),[o,i]=L(),s=P(()=>{const b=x(t.selectedKeys);return b!=null?po(b):b}),l=P(()=>{const b=x(t.defaultSelectedKeys);return b!=null?po(b):new Oe}),[a,c]=Zu({value:s,defaultValue:l,onChange:b=>{var p;return(p=t.onSelectionChange)==null?void 0:p.call(t,b)}}),[d,f]=L(x(t.selectionBehavior)),u=()=>x(t.selectionMode),g=()=>x(t.disallowEmptySelection)??!1,h=b=>{(x(t.allowDuplicateSelectionEvents)||!qi(b,a()))&&c(b)};return R(()=>{const b=a();x(t.selectionBehavior)==="replace"&&d()==="toggle"&&typeof b=="object"&&b.size===0&&f("replace")}),R(()=>{f(x(t.selectionBehavior)??"toggle")}),{selectionMode:u,disallowEmptySelection:g,selectionBehavior:d,setSelectionBehavior:f,isFocused:n,setFocused:r,focusedKey:o,setFocusedKey:i,selectedKeys:a,setSelectedKeys:h}}function ed(e){const[t,n]=L(""),[r,o]=L(-1);return{typeSelectHandlers:{onKeyDown:s=>{var u;if(x(e.isDisabled))return;const l=x(e.keyboardDelegate),a=x(e.selectionManager);if(!l.getKeyForSearch)return;const c=td(s.key);if(!c||s.ctrlKey||s.metaKey)return;c===" "&&t().trim().length>0&&(s.preventDefault(),s.stopPropagation());let d=n(g=>g+c),f=l.getKeyForSearch(d,a.focusedKey())??l.getKeyForSearch(d);f==null&&nd(d)&&(d=d[0],f=l.getKeyForSearch(d,a.focusedKey())??l.getKeyForSearch(d)),f!=null&&(a.setFocusedKey(f),(u=e.onTypeSelect)==null||u.call(e,f)),clearTimeout(r()),o(window.setTimeout(()=>n(""),500))}}}}function td(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function nd(e){return e.split("").every(t=>t===e[0])}function Gi(e,t,n){const o=T({selectOnFocus:()=>x(e.selectionManager).selectionBehavior()==="replace"},e),i=()=>(n==null?void 0:n())??t(),{direction:s}=wr();let l={top:0,left:0};Na(()=>x(o.isVirtualized)?void 0:i(),"scroll",()=>{const p=i();p&&(l={top:p.scrollTop,left:p.scrollLeft})});const{typeSelectHandlers:a}=ed({isDisabled:()=>x(o.disallowTypeAhead),keyboardDelegate:()=>x(o.keyboardDelegate),selectionManager:()=>x(o.selectionManager)}),c=()=>x(o.orientation)??"vertical",d=p=>{var I,F,K,G,_,ee,B,Q;fe(p,a.onKeyDown),p.altKey&&p.key==="Tab"&&p.preventDefault();const v=t();if(!(v!=null&&v.contains(p.target)))return;const m=x(o.selectionManager),S=x(o.selectOnFocus),C=D=>{D!=null&&(m.setFocusedKey(D),p.shiftKey&&m.selectionMode()==="multiple"?m.extendSelection(D):S&&!Hi(p)&&m.replaceSelection(D))},w=x(o.keyboardDelegate),O=x(o.shouldFocusWrap),A=m.focusedKey();switch(p.key){case(c()==="vertical"?"ArrowDown":"ArrowRight"):{if(w.getKeyBelow){p.preventDefault();let D;A!=null?D=w.getKeyBelow(A):D=(I=w.getFirstKey)==null?void 0:I.call(w),D==null&&O&&(D=(F=w.getFirstKey)==null?void 0:F.call(w,A)),C(D)}break}case(c()==="vertical"?"ArrowUp":"ArrowLeft"):{if(w.getKeyAbove){p.preventDefault();let D;A!=null?D=w.getKeyAbove(A):D=(K=w.getLastKey)==null?void 0:K.call(w),D==null&&O&&(D=(G=w.getLastKey)==null?void 0:G.call(w,A)),C(D)}break}case(c()==="vertical"?"ArrowLeft":"ArrowUp"):{if(w.getKeyLeftOf){p.preventDefault();const D=s()==="rtl";let U;A!=null?U=w.getKeyLeftOf(A):U=D?(_=w.getFirstKey)==null?void 0:_.call(w):(ee=w.getLastKey)==null?void 0:ee.call(w),C(U)}break}case(c()==="vertical"?"ArrowRight":"ArrowDown"):{if(w.getKeyRightOf){p.preventDefault();const D=s()==="rtl";let U;A!=null?U=w.getKeyRightOf(A):U=D?(B=w.getLastKey)==null?void 0:B.call(w):(Q=w.getFirstKey)==null?void 0:Q.call(w),C(U)}break}case"Home":if(w.getFirstKey){p.preventDefault();const D=w.getFirstKey(A,mt(p));D!=null&&(m.setFocusedKey(D),mt(p)&&p.shiftKey&&m.selectionMode()==="multiple"?m.extendSelection(D):S&&m.replaceSelection(D))}break;case"End":if(w.getLastKey){p.preventDefault();const D=w.getLastKey(A,mt(p));D!=null&&(m.setFocusedKey(D),mt(p)&&p.shiftKey&&m.selectionMode()==="multiple"?m.extendSelection(D):S&&m.replaceSelection(D))}break;case"PageDown":if(w.getKeyPageBelow&&A!=null){p.preventDefault();const D=w.getKeyPageBelow(A);C(D)}break;case"PageUp":if(w.getKeyPageAbove&&A!=null){p.preventDefault();const D=w.getKeyPageAbove(A);C(D)}break;case"a":mt(p)&&m.selectionMode()==="multiple"&&x(o.disallowSelectAll)!==!0&&(p.preventDefault(),m.selectAll());break;case"Escape":p.defaultPrevented||(p.preventDefault(),x(o.disallowEmptySelection)||m.clearSelection());break;case"Tab":if(!x(o.allowsTabNavigation)){if(p.shiftKey)v.focus();else{const D=oc(v,{tabbable:!0});let U,te;do te=D.lastChild(),te&&(U=te);while(te);U&&!U.contains(document.activeElement)&&le(U)}break}}},f=p=>{var C,w;const v=x(o.selectionManager),m=x(o.keyboardDelegate),S=x(o.selectOnFocus);if(v.isFocused()){p.currentTarget.contains(p.target)||v.setFocused(!1);return}if(p.currentTarget.contains(p.target)){if(v.setFocused(!0),v.focusedKey()==null){const O=I=>{I!=null&&(v.setFocusedKey(I),S&&v.replaceSelection(I))},A=p.relatedTarget;A&&p.currentTarget.compareDocumentPosition(A)&Node.DOCUMENT_POSITION_FOLLOWING?O(v.lastSelectedKey()??((C=m.getLastKey)==null?void 0:C.call(m))):O(v.firstSelectedKey()??((w=m.getFirstKey)==null?void 0:w.call(m)))}else if(!x(o.isVirtualized)){const O=i();if(O){O.scrollTop=l.top,O.scrollLeft=l.left;const A=O.querySelector(`[data-key="${v.focusedKey()}"]`);A&&(le(A),eo(O,A))}}}},u=p=>{const v=x(o.selectionManager);p.currentTarget.contains(p.relatedTarget)||v.setFocused(!1)},g=p=>{i()===p.target&&p.preventDefault()},h=()=>{var O,A;const p=x(o.autoFocus);if(!p)return;const v=x(o.selectionManager),m=x(o.keyboardDelegate);let S;p==="first"&&(S=(O=m.getFirstKey)==null?void 0:O.call(m)),p==="last"&&(S=(A=m.getLastKey)==null?void 0:A.call(m));const C=v.selectedKeys();C.size&&(S=C.values().next().value),v.setFocused(!0),v.setFocusedKey(S);const w=t();w&&S==null&&!x(o.shouldUseVirtualFocus)&&le(w)};return Bt(()=>{o.deferAutoFocus?setTimeout(h,0):h()}),R(Xe([i,()=>x(o.isVirtualized),()=>x(o.selectionManager).focusedKey()],p=>{var C;const[v,m,S]=p;if(m)S&&((C=o.scrollToKey)==null||C.call(o,S));else if(S&&v){const w=v.querySelector(`[data-key="${S}"]`);w&&eo(v,w)}})),{tabIndex:P(()=>{if(!x(o.shouldUseVirtualFocus))return x(o.selectionManager).focusedKey()==null?0:-1}),onKeyDown:d,onMouseDown:g,onFocusIn:f,onFocusOut:u}}function rd(e,t){const n=()=>x(e.selectionManager),r=()=>x(e.key),o=()=>x(e.shouldUseVirtualFocus),i=m=>{n().selectionMode()!=="none"&&(n().selectionMode()==="single"?n().isSelected(r())&&!n().disallowEmptySelection()?n().toggleSelection(r()):n().replaceSelection(r()):m!=null&&m.shiftKey?n().extendSelection(r()):n().selectionBehavior()==="toggle"||mt(m)||"pointerType"in m&&m.pointerType==="touch"?n().toggleSelection(r()):n().replaceSelection(r()))},s=()=>n().isSelected(r()),l=()=>x(e.disabled)||n().isDisabled(r()),a=()=>!l()&&n().canSelectItem(r());let c=null;const d=m=>{a()&&(c=m.pointerType,m.pointerType==="mouse"&&m.button===0&&!x(e.shouldSelectOnPressUp)&&i(m))},f=m=>{a()&&m.pointerType==="mouse"&&m.button===0&&x(e.shouldSelectOnPressUp)&&x(e.allowsDifferentPressOrigin)&&i(m)},u=m=>{a()&&(x(e.shouldSelectOnPressUp)&&!x(e.allowsDifferentPressOrigin)||c!=="mouse")&&i(m)},g=m=>{!a()||!["Enter"," "].includes(m.key)||(Hi(m)?n().toggleSelection(r()):i(m))},h=m=>{l()&&m.preventDefault()},b=m=>{const S=t();o()||l()||!S||m.target===S&&n().setFocusedKey(r())},p=P(()=>{if(!(o()||l()))return r()===n().focusedKey()?0:-1}),v=P(()=>x(e.virtualized)?void 0:r());return R(Xe([t,r,o,()=>n().focusedKey(),()=>n().isFocused()],([m,S,C,w,O])=>{m&&S===w&&O&&!C&&document.activeElement!==m&&(e.focus?e.focus():le(m))})),{isSelected:s,isDisabled:l,allowsSelection:a,tabIndex:p,dataKey:v,onPointerDown:d,onPointerUp:f,onClick:u,onKeyDown:g,onMouseDown:h,onFocus:b}}var od=class{constructor(e,t){de(this,"collection");de(this,"state");this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),r=(n==null?void 0:n.index)!=null&&(e==null?void 0:e.index)!=null&&n.index<e.index;(!e||r)&&(e=n)}return e==null?void 0:e.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const n=this.collection().getItem(t),r=(n==null?void 0:n.index)!=null&&(e==null?void 0:e.index)!=null&&n.index>e.index;(!e||r)&&(e=n)}return e==null?void 0:e.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=this.state.selectedKeys(),r=n.anchorKey||t,o=new Oe(n,r,t);for(const i of this.getKeyRange(r,n.currentKey||t))o.delete(i);for(const i of this.getKeyRange(t,r))this.canSelectItem(i)&&o.add(i);this.state.setSelectedKeys(o)}getKeyRange(e,t){const n=this.collection().getItem(e),r=this.collection().getItem(t);return n&&r?n.index!=null&&r.index!=null&&n.index<=r.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const n=[];let r=e;for(;r!=null;){const o=this.collection().getItem(r);if(o&&o.type==="item"&&n.push(r),r===t)return n;r=this.collection().getKeyAfter(r)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const n=new Oe(this.state.selectedKeys());n.has(t)?n.delete(t):this.canSelectItem(t)&&(n.add(t),n.anchorKey=t,n.currentKey=t),!(this.disallowEmptySelection()&&n.size===0)&&this.state.setSelectedKeys(n)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const n=this.canSelectItem(t)?new Oe([t],t,t):new Oe;this.state.setSelectedKeys(n)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new Oe;for(const n of e){const r=this.getKey(n);if(r!=null&&(t.add(r),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new Oe)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;for(const n of t)if(!e.has(n))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(n=>{for(;n!=null;){if(this.canSelectItem(n)){const r=this.collection().getItem(n);if(!r)continue;r.type==="item"&&e.push(n)}n=this.collection().getKeyAfter(n)}})(this.collection().getFirstKey()),e}},bo=class{constructor(e){de(this,"keyMap",new Map);de(this,"iterable");de(this,"firstKey");de(this,"lastKey");this.iterable=e;for(const r of e)this.keyMap.set(r.key,r);if(this.keyMap.size===0)return;let t,n=0;for(const[r,o]of this.keyMap)t?(t.nextKey=r,o.prevKey=t.key):(this.firstKey=r,o.prevKey=void 0),o.type==="item"&&(o.index=n++),t=o,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.prevKey}getKeyAfter(e){var t;return(t=this.keyMap.get(e))==null?void 0:t.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function Yi(e){const t=Ju(e),r=Uu({dataSource:()=>x(e.dataSource),getKey:()=>x(e.getKey),getTextValue:()=>x(e.getTextValue),getDisabled:()=>x(e.getDisabled),getSectionChildren:()=>x(e.getSectionChildren),factory:i=>e.filter?new bo(e.filter(i)):new bo(i)},[()=>e.filter]),o=new od(r,t);return Ms(()=>{const i=t.focusedKey();i!=null&&!r().getItem(i)&&t.setFocusedKey(void 0)}),{collection:r,selectionManager:()=>o}}const id=["top","right","bottom","left"],Ae=Math.min,me=Math.max,dn=Math.round,Zt=Math.floor,Qe=e=>({x:e,y:e}),sd={left:"right",right:"left",bottom:"top",top:"bottom"},ld={start:"end",end:"start"};function ir(e,t,n){return me(e,Ae(t,n))}function ut(e,t){return typeof e=="function"?e(t):e}function Ze(e){return e.split("-")[0]}function kt(e){return e.split("-")[1]}function Xi(e){return e==="x"?"y":"x"}function xr(e){return e==="y"?"height":"width"}function ot(e){return["top","bottom"].includes(Ze(e))?"y":"x"}function Sr(e){return Xi(ot(e))}function ad(e,t,n){n===void 0&&(n=!1);const r=kt(e),o=Sr(e),i=xr(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=fn(s)),[s,fn(s)]}function cd(e){const t=fn(e);return[sr(e),t,sr(t)]}function sr(e){return e.replace(/start|end/g,t=>ld[t])}function ud(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function dd(e,t,n,r){const o=kt(e);let i=ud(Ze(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(sr)))),i}function fn(e){return e.replace(/left|right|bottom|top/g,t=>sd[t])}function fd(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qi(e){return typeof e!="number"?fd(e):{top:e,right:e,bottom:e,left:e}}function gn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function yo(e,t,n){let{reference:r,floating:o}=e;const i=ot(t),s=Sr(t),l=xr(s),a=Ze(t),c=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,u=r[l]/2-o[l]/2;let g;switch(a){case"top":g={x:d,y:r.y-o.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-o.width,y:f};break;default:g={x:r.x,y:r.y}}switch(kt(t)){case"start":g[s]-=u*(n&&c?-1:1);break;case"end":g[s]+=u*(n&&c?-1:1);break}return g}const gd=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,l=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=yo(c,r,a),u=r,g={},h=0;for(let b=0;b<l.length;b++){const{name:p,fn:v}=l[b],{x:m,y:S,data:C,reset:w}=await v({x:d,y:f,initialPlacement:r,placement:u,strategy:o,middlewareData:g,rects:c,platform:s,elements:{reference:e,floating:t}});d=m??d,f=S??f,g={...g,[p]:{...g[p],...C}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(u=w.placement),w.rects&&(c=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:d,y:f}=yo(c,u,a)),b=-1)}return{x:d,y:f,placement:u,strategy:o,middlewareData:g}};async function Vt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:l,strategy:a}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:u=!1,padding:g=0}=ut(t,e),h=Qi(g),p=l[u?f==="floating"?"reference":"floating":f],v=gn(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(p)))==null||n?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:a})),m=f==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},w=gn(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:S,strategy:a}):m);return{top:(v.top-w.top+h.top)/C.y,bottom:(w.bottom-v.bottom+h.bottom)/C.y,left:(v.left-w.left+h.left)/C.x,right:(w.right-v.right+h.right)/C.x}}const hd=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:l,middlewareData:a}=t,{element:c,padding:d=0}=ut(e,t)||{};if(c==null)return{};const f=Qi(d),u={x:n,y:r},g=Sr(o),h=xr(g),b=await s.getDimensions(c),p=g==="y",v=p?"top":"left",m=p?"bottom":"right",S=p?"clientHeight":"clientWidth",C=i.reference[h]+i.reference[g]-u[g]-i.floating[h],w=u[g]-i.reference[g],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let A=O?O[S]:0;(!A||!await(s.isElement==null?void 0:s.isElement(O)))&&(A=l.floating[S]||i.floating[h]);const I=C/2-w/2,F=A/2-b[h]/2-1,K=Ae(f[v],F),G=Ae(f[m],F),_=K,ee=A-b[h]-G,B=A/2-b[h]/2+I,Q=ir(_,B,ee),D=!a.arrow&&kt(o)!=null&&B!==Q&&i.reference[h]/2-(B<_?K:G)-b[h]/2<0,U=D?B<_?B-_:B-ee:0;return{[g]:u[g]+U,data:{[g]:Q,centerOffset:B-Q-U,...D&&{alignmentOffset:U}},reset:D}}}),md=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:u,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:b=!0,...p}=ut(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Ze(o),m=ot(l),S=Ze(l)===l,C=await(a.isRTL==null?void 0:a.isRTL(c.floating)),w=u||(S||!b?[fn(l)]:cd(l)),O=h!=="none";!u&&O&&w.push(...dd(l,b,h,C));const A=[l,...w],I=await Vt(t,p),F=[];let K=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&F.push(I[v]),f){const B=ad(o,s,C);F.push(I[B[0]],I[B[1]])}if(K=[...K,{placement:o,overflows:F}],!F.every(B=>B<=0)){var G,_;const B=(((G=i.flip)==null?void 0:G.index)||0)+1,Q=A[B];if(Q)return{data:{index:B,overflows:K},reset:{placement:Q}};let D=(_=K.filter(U=>U.overflows[0]<=0).sort((U,te)=>U.overflows[1]-te.overflows[1])[0])==null?void 0:_.placement;if(!D)switch(g){case"bestFit":{var ee;const U=(ee=K.filter(te=>{if(O){const oe=ot(te.placement);return oe===m||oe==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(oe=>oe>0).reduce((oe,dt)=>oe+dt,0)]).sort((te,oe)=>te[1]-oe[1])[0])==null?void 0:ee[0];U&&(D=U);break}case"initialPlacement":D=l;break}if(o!==D)return{reset:{placement:D}}}return{}}}};function vo(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wo(e){return id.some(t=>e[t]>=0)}const pd=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ut(e,t);switch(r){case"referenceHidden":{const i=await Vt(t,{...o,elementContext:"reference"}),s=vo(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:wo(s)}}}case"escaped":{const i=await Vt(t,{...o,altBoundary:!0}),s=vo(i,n.floating);return{data:{escapedOffsets:s,escaped:wo(s)}}}default:return{}}}}};async function bd(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ze(n),l=kt(n),a=ot(n)==="y",c=["left","top"].includes(s)?-1:1,d=i&&a?-1:1,f=ut(t,e);let{mainAxis:u,crossAxis:g,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof h=="number"&&(g=l==="end"?h*-1:h),a?{x:g*d,y:u*c}:{x:u*c,y:g*d}}const yd=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:l}=t,a=await bd(t,e);return s===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:s}}}}},vd=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:p=>{let{x:v,y:m}=p;return{x:v,y:m}}},...a}=ut(e,t),c={x:n,y:r},d=await Vt(t,a),f=ot(Ze(o)),u=Xi(f);let g=c[u],h=c[f];if(i){const p=u==="y"?"top":"left",v=u==="y"?"bottom":"right",m=g+d[p],S=g-d[v];g=ir(m,g,S)}if(s){const p=f==="y"?"top":"left",v=f==="y"?"bottom":"right",m=h+d[p],S=h-d[v];h=ir(m,h,S)}const b=l.fn({...t,[u]:g,[f]:h});return{...b,data:{x:b.x-n,y:b.y-r}}}}},wd=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...l}=ut(e,t),a=await Vt(t,l),c=Ze(n),d=kt(n),f=ot(n)==="y",{width:u,height:g}=r.floating;let h,b;c==="top"||c==="bottom"?(h=c,b=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(b=c,h=d==="end"?"top":"bottom");const p=g-a.top-a.bottom,v=u-a.left-a.right,m=Ae(g-a[h],p),S=Ae(u-a[b],v),C=!t.middlewareData.shift;let w=m,O=S;if(f?O=d||C?Ae(S,v):v:w=d||C?Ae(m,p):p,C&&!d){const I=me(a.left,0),F=me(a.right,0),K=me(a.top,0),G=me(a.bottom,0);f?O=u-2*(I!==0||F!==0?I+F:me(a.left,a.right)):w=g-2*(K!==0||G!==0?K+G:me(a.top,a.bottom))}await s({...t,availableWidth:O,availableHeight:w});const A=await o.getDimensions(i.floating);return u!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Ot(e){return Zi(e)?(e.nodeName||"").toLowerCase():"#document"}function pe(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ue(e){var t;return(t=(Zi(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Zi(e){return e instanceof Node||e instanceof pe(e).Node}function Le(e){return e instanceof Element||e instanceof pe(e).Element}function Pe(e){return e instanceof HTMLElement||e instanceof pe(e).HTMLElement}function xo(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pe(e).ShadowRoot}function Ht(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ke(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function xd(e){return["table","td","th"].includes(Ot(e))}function kn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Cr(e){const t=kr(),n=ke(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Sd(e){let t=Je(e);for(;Pe(t)&&!wt(t);){if(kn(t))return null;if(Cr(t))return t;t=Je(t)}return null}function kr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wt(e){return["html","body","#document"].includes(Ot(e))}function ke(e){return pe(e).getComputedStyle(e)}function On(e){return Le(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Je(e){if(Ot(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xo(e)&&e.host||Ue(e);return xo(t)?t.host:t}function Ji(e){const t=Je(e);return wt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pe(t)&&Ht(t)?t:Ji(t)}function zt(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ji(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=pe(o);return i?t.concat(s,s.visualViewport||[],Ht(o)?o:[],s.frameElement&&n?zt(s.frameElement):[]):t.concat(o,zt(o,[],n))}function es(e){const t=ke(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Pe(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,l=dn(n)!==i||dn(r)!==s;return l&&(n=i,r=s),{width:n,height:r,$:l}}function Or(e){return Le(e)?e:e.contextElement}function yt(e){const t=Or(e);if(!Pe(t))return Qe(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=es(t);let s=(i?dn(n.width):n.width)/r,l=(i?dn(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const Cd=Qe(0);function ts(e){const t=pe(e);return!kr()||!t.visualViewport?Cd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function kd(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pe(e)?!1:t}function it(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Or(e);let s=Qe(1);t&&(r?Le(r)&&(s=yt(r)):s=yt(e));const l=kd(i,n,r)?ts(i):Qe(0);let a=(o.left+l.x)/s.x,c=(o.top+l.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const u=pe(i),g=r&&Le(r)?pe(r):r;let h=u,b=h.frameElement;for(;b&&r&&g!==h;){const p=yt(b),v=b.getBoundingClientRect(),m=ke(b),S=v.left+(b.clientLeft+parseFloat(m.paddingLeft))*p.x,C=v.top+(b.clientTop+parseFloat(m.paddingTop))*p.y;a*=p.x,c*=p.y,d*=p.x,f*=p.y,a+=S,c+=C,h=pe(b),b=h.frameElement}}return gn({width:d,height:f,x:a,y:c})}function Od(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=Ue(r),l=t?kn(t.floating):!1;if(r===s||l&&i)return n;let a={scrollLeft:0,scrollTop:0},c=Qe(1);const d=Qe(0),f=Pe(r);if((f||!f&&!i)&&((Ot(r)!=="body"||Ht(s))&&(a=On(r)),Pe(r))){const u=it(r);c=yt(r),d.x=u.x+r.clientLeft,d.y=u.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-a.scrollLeft*c.x+d.x,y:n.y*c.y-a.scrollTop*c.y+d.y}}function Ed(e){return Array.from(e.getClientRects())}function ns(e){return it(Ue(e)).left+On(e).scrollLeft}function Ad(e){const t=Ue(e),n=On(e),r=e.ownerDocument.body,o=me(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=me(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+ns(e);const l=-n.scrollTop;return ke(r).direction==="rtl"&&(s+=me(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:l}}function Id(e,t){const n=pe(e),r=Ue(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,l=0,a=0;if(o){i=o.width,s=o.height;const c=kr();(!c||c&&t==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:l,y:a}}function Td(e,t){const n=it(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Pe(e)?yt(e):Qe(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,a=o*i.x,c=r*i.y;return{width:s,height:l,x:a,y:c}}function So(e,t,n){let r;if(t==="viewport")r=Id(e,n);else if(t==="document")r=Ad(Ue(e));else if(Le(t))r=Td(t,n);else{const o=ts(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return gn(r)}function rs(e,t){const n=Je(e);return n===t||!Le(n)||wt(n)?!1:ke(n).position==="fixed"||rs(n,t)}function Ld(e,t){const n=t.get(e);if(n)return n;let r=zt(e,[],!1).filter(l=>Le(l)&&Ot(l)!=="body"),o=null;const i=ke(e).position==="fixed";let s=i?Je(e):e;for(;Le(s)&&!wt(s);){const l=ke(s),a=Cr(s);!a&&l.position==="fixed"&&(o=null),(i?!a&&!o:!a&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ht(s)&&!a&&rs(e,s))?r=r.filter(d=>d!==s):o=l,s=Je(s)}return t.set(e,r),r}function Pd(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?kn(t)?[]:Ld(t,this._c):[].concat(n),r],l=s[0],a=s.reduce((c,d)=>{const f=So(t,d,o);return c.top=me(f.top,c.top),c.right=Ae(f.right,c.right),c.bottom=Ae(f.bottom,c.bottom),c.left=me(f.left,c.left),c},So(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function $d(e){const{width:t,height:n}=es(e);return{width:t,height:n}}function Dd(e,t,n){const r=Pe(t),o=Ue(t),i=n==="fixed",s=it(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=Qe(0);if(r||!r&&!i)if((Ot(t)!=="body"||Ht(o))&&(l=On(t)),r){const f=it(t,!0,i,t);a.x=f.x+t.clientLeft,a.y=f.y+t.clientTop}else o&&(a.x=ns(o));const c=s.left+l.scrollLeft-a.x,d=s.top+l.scrollTop-a.y;return{x:c,y:d,width:s.width,height:s.height}}function Bn(e){return ke(e).position==="static"}function Co(e,t){return!Pe(e)||ke(e).position==="fixed"?null:t?t(e):e.offsetParent}function os(e,t){const n=pe(e);if(kn(e))return n;if(!Pe(e)){let o=Je(e);for(;o&&!wt(o);){if(Le(o)&&!Bn(o))return o;o=Je(o)}return n}let r=Co(e,t);for(;r&&xd(r)&&Bn(r);)r=Co(r,t);return r&&wt(r)&&Bn(r)&&!Cr(r)?n:r||Sd(e)||n}const Md=async function(e){const t=this.getOffsetParent||os,n=this.getDimensions,r=await n(e.floating);return{reference:Dd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Fd(e){return ke(e).direction==="rtl"}const is={convertOffsetParentRelativeRectToViewportRelativeRect:Od,getDocumentElement:Ue,getClippingRect:Pd,getOffsetParent:os,getElementRects:Md,getClientRects:Ed,getDimensions:$d,getScale:yt,isElement:Le,isRTL:Fd};function _d(e,t){let n=null,r;const o=Ue(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function s(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),i();const{left:c,top:d,width:f,height:u}=e.getBoundingClientRect();if(l||t(),!f||!u)return;const g=Zt(d),h=Zt(o.clientWidth-(c+f)),b=Zt(o.clientHeight-(d+u)),p=Zt(c),m={rootMargin:-g+"px "+-h+"px "+-b+"px "+-p+"px",threshold:me(0,Ae(1,a))||1};let S=!0;function C(w){const O=w[0].intersectionRatio;if(O!==a){if(!S)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(C,{...m,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,m)}n.observe(e)}return s(!0),i}function Kd(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,c=Or(e),d=o||i?[...c?zt(c):[],...zt(t)]:[];d.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=c&&l?_d(c,n):null;let u=-1,g=null;s&&(g=new ResizeObserver(v=>{let[m]=v;m&&m.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(t)})),n()}),c&&!a&&g.observe(c),g.observe(t));let h,b=a?it(e):null;a&&p();function p(){const v=it(e);b&&(v.x!==b.x||v.y!==b.y||v.width!==b.width||v.height!==b.height)&&n(),b=v,h=requestAnimationFrame(p)}return n(),()=>{var v;d.forEach(m=>{o&&m.removeEventListener("scroll",n),i&&m.removeEventListener("resize",n)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,a&&cancelAnimationFrame(h)}}const Rd=yd,Nd=vd,Vd=md,zd=wd,Bd=pd,jd=hd,Wd=(e,t,n)=>{const r=new Map,o={platform:is,...n},i={...o.platform,_c:r};return gd(e,t,{...o,platform:i})};var Ud=$('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),Er=ze();function Ar(){const e=Be(Er);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var lr=30,ko=lr/2,Hd={top:180,right:-90,bottom:0,left:90};function Ir(e){const t=Ar(),n=J({size:lr},e),[r,o]=V(n,["ref","style","size"]),i=()=>t.currentPlacement().split("-")[0],s=qd(t.contentRef),l=()=>{var u;return((u=s())==null?void 0:u.getPropertyValue("background-color"))||"none"},a=()=>{var u;return((u=s())==null?void 0:u.getPropertyValue(`border-${i()}-color`))||"none"},c=()=>{var u;return((u=s())==null?void 0:u.getPropertyValue(`border-${i()}-width`))||"0px"},d=()=>parseInt(c())*2*(lr/r.size),f=()=>`rotate(${Hd[i()]} ${ko} ${ko}) translate(0 2)`;return y(ne,T({as:"div",ref(u){var g=ue(t.setArrowRef,r.ref);typeof g=="function"&&g(u)},"aria-hidden":"true",get style(){return{position:"absolute","font-size":`${r.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:l(),stroke:a(),"stroke-width":d(),...r.style}}},o,{get children(){var u=Ud(),g=u.firstChild,h=g.firstChild;return h.nextSibling,z(()=>Ke(g,"transform",f())),u}}))}function qd(e){const[t,n]=L();return R(()=>{const r=e();r&&n(ja(r).getComputedStyle(r))}),t}function Gd(e){const t=Ar(),[n,r]=V(e,["ref","style"]);return y(ne,T({as:"div",ref(o){var i=ue(t.setPositionerRef,n.ref);typeof i=="function"&&i(o)},"data-popper-positioner":"",get style(){return{position:"absolute",top:0,left:0,"min-width":"max-content",...n.style}}},r))}function Oo(e){const{x:t=0,y:n=0,width:r=0,height:o=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,n,r,o);const i={x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:n+o,left:t};return{...i,toJSON:()=>i}}function Yd(e,t){return{contextElement:e,getBoundingClientRect:()=>{const r=t(e);return r?Oo(r):e?e.getBoundingClientRect():Oo()}}}function Xd(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var Qd={top:"bottom",right:"left",bottom:"top",left:"right"};function Zd(e,t){const[n,r]=e.split("-"),o=Qd[n];return r?n==="left"||n==="right"?`${o} ${r==="start"?"top":"bottom"}`:r==="start"?`${o} ${t==="rtl"?"right":"left"}`:`${o} ${t==="rtl"?"left":"right"}`:`${o} center`}function Jd(e){const t=J({getAnchorRect:u=>u==null?void 0:u.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[n,r]=L(),[o,i]=L(),[s,l]=L(t.placement),a=()=>{var u;return Yd((u=t.anchorRef)==null?void 0:u.call(t),t.getAnchorRect)},{direction:c}=wr();async function d(){var O,A;const u=a(),g=n(),h=o();if(!u||!g)return;const b=((h==null?void 0:h.clientHeight)||0)/2,p=typeof t.gutter=="number"?t.gutter+b:t.gutter??b;g.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),u.getBoundingClientRect();const v=[Rd(({placement:I})=>{const F=!!I.split("-")[1];return{mainAxis:p,crossAxis:F?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const I=typeof t.flip=="string"?t.flip.split(" "):void 0;if(I!==void 0&&!I.every(Xd))throw new Error("`flip` expects a spaced-delimited list of placements");v.push(Vd({padding:t.overflowPadding,fallbackPlacements:I}))}(t.slide||t.overlap)&&v.push(Nd({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),v.push(zd({padding:t.overflowPadding,apply({availableWidth:I,availableHeight:F,rects:K}){const G=Math.round(K.reference.width);I=Math.floor(I),F=Math.floor(F),g.style.setProperty("--kb-popper-anchor-width",`${G}px`),g.style.setProperty("--kb-popper-content-available-width",`${I}px`),g.style.setProperty("--kb-popper-content-available-height",`${F}px`),t.sameWidth&&(g.style.width=`${G}px`),t.fitViewport&&(g.style.maxWidth=`${I}px`,g.style.maxHeight=`${F}px`)}})),t.hideWhenDetached&&v.push(Bd({padding:t.detachedPadding})),h&&v.push(jd({element:h,padding:t.arrowPadding}));const m=await Wd(u,g,{placement:t.placement,strategy:"absolute",middleware:v,platform:{...is,isRTL:()=>c()==="rtl"}});if(l(m.placement),(O=t.onCurrentPlacementChange)==null||O.call(t,m.placement),!g)return;g.style.setProperty("--kb-popper-content-transform-origin",Zd(m.placement,c()));const S=Math.round(m.x),C=Math.round(m.y);let w;if(t.hideWhenDetached&&(w=(A=m.middlewareData.hide)!=null&&A.referenceHidden?"hidden":"visible"),Object.assign(g.style,{top:"0",left:"0",transform:`translate3d(${S}px, ${C}px, 0)`,visibility:w}),h&&m.middlewareData.arrow){const{x:I,y:F}=m.middlewareData.arrow,K=m.placement.split("-")[0];Object.assign(h.style,{left:I!=null?`${I}px`:"",top:F!=null?`${F}px`:"",[K]:"100%"})}}R(()=>{const u=a(),g=n();if(!u||!g)return;const h=Kd(u,g,d,{elementResize:typeof ResizeObserver=="function"});j(h)}),R(()=>{var h;const u=n(),g=(h=t.contentRef)==null?void 0:h.call(t);!u||!g||queueMicrotask(()=>{u.style.zIndex=getComputedStyle(g).zIndex})});const f={currentPlacement:s,contentRef:()=>{var u;return(u=t.contentRef)==null?void 0:u.call(t)},setPositionerRef:r,setArrowRef:i};return y(Er.Provider,{value:f,get children(){return t.children}})}var ss=Object.assign(Jd,{Arrow:Ir,Context:Er,usePopperContext:Ar,Positioner:Gd}),ef=$("<option>"),tf=$("<div aria-hidden=true><input type=text><select tabindex=-1><option>");function nf(e){let t;const[n,r]=V(e,["ref","onChange","collection","selectionManager","isOpen","isMultiple","isVirtualized","focusTrigger"]),o=We(),[i,s]=L(!1),l=a=>{const c=n.collection.getItem(a);return y(Y,{get when(){return(c==null?void 0:c.type)==="item"},get children(){var d=ef();return d.value=a,M(d,()=>c==null?void 0:c.textValue),z(()=>d.selected=n.selectionManager.isSelected(a)),d}})};return R(Xe(()=>n.selectionManager.selectedKeys(),(a,c)=>{c&&qi(a,c)||(s(!0),t==null||t.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),t==null||t.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0})))},{defer:!0})),(()=>{var a=tf(),c=a.firstChild,d=c.nextSibling;d.firstChild,c.addEventListener("focus",()=>n.focusTrigger()),c.style.setProperty("font-size","16px"),d.addEventListener("change",u=>{fe(u,n.onChange),i()||n.selectionManager.setSelectedKeys(new Set([u.target.value])),s(!1)});var f=ue(u=>t=u,n.ref);return typeof f=="function"&&je(f,d),et(d,T({get multiple(){return n.isMultiple},get name(){return o.name()},get required(){return o.isRequired()},get disabled(){return o.isDisabled()},get size(){return n.collection.getSize()},get value(){return n.selectionManager.firstSelectedKey()??""}},r),!1,!0),M(d,y(Y,{get when(){return n.isVirtualized},get fallback(){return y(ve,{get each(){return[...n.collection.getKeys()]},children:l})},get children(){return y(ve,{get each(){return[...n.selectionManager.selectedKeys()]},children:l})}}),null),z(u=>{var g=pr,h=n.selectionManager.isFocused()||n.isOpen?-1:0,b=o.isRequired(),p=o.isDisabled(),v=o.isReadOnly();return u.e=vt(a,g,u.e),h!==u.t&&Ke(c,"tabindex",u.t=h),b!==u.a&&(c.required=u.a=b),p!==u.o&&(c.disabled=u.o=p),v!==u.i&&(c.readOnly=u.i=v),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),a})()}var Eo=new WeakMap;function ar(e){let t=Eo.get(e);if(t!=null)return t;t=0;for(const n of e)n.type==="item"&&t++;return Eo.set(e,t),t}var ls=class{constructor(e,t,n){de(this,"collection");de(this,"ref");de(this,"collator");this.collection=e,this.ref=t,this.collator=n}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const n=this.collection().getItem(t);if(n&&n.type==="item"&&!n.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){var t,n;return((n=(t=this.ref)==null?void 0:t.call(this))==null?void 0:n.querySelector(`[data-key="${e}"]`))??null}getKeyPageAbove(e){var i;const t=(i=this.ref)==null?void 0:i.call(this);let n=this.getItem(e);if(!t||!n)return;const r=Math.max(0,n.offsetTop+n.offsetHeight-t.offsetHeight);let o=e;for(;o&&n&&n.offsetTop>r;)o=this.getKeyAbove(o),n=o!=null?this.getItem(o):null;return o}getKeyPageBelow(e){var i;const t=(i=this.ref)==null?void 0:i.call(this);let n=this.getItem(e);if(!t||!n)return;const r=Math.min(t.scrollHeight,n.offsetTop-n.offsetHeight+t.offsetHeight);let o=e;for(;o&&n&&n.offsetTop<r;)o=this.getKeyBelow(o),n=o!=null?this.getItem(o):null;return o}getKeyForSearch(e,t){var o;const n=(o=this.collator)==null?void 0:o.call(this);if(!n)return;let r=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;r!=null;){const i=this.collection().getItem(r);if(i){const s=i.textValue.slice(0,e.length);if(i.textValue&&n.compare(s,e)===0)return r}r=this.getKeyBelow(r)}}};function rf(e,t,n){const r=ji({usage:"search",sensitivity:"base"}),o=P(()=>{const i=x(e.keyboardDelegate);return i||new ls(e.collection,t,r)});return Gi({selectionManager:()=>x(e.selectionManager),keyboardDelegate:o,autoFocus:()=>x(e.autoFocus),deferAutoFocus:()=>x(e.deferAutoFocus),shouldFocusWrap:()=>x(e.shouldFocusWrap),disallowEmptySelection:()=>x(e.disallowEmptySelection),selectOnFocus:()=>x(e.selectOnFocus),disallowTypeAhead:()=>x(e.disallowTypeAhead),shouldUseVirtualFocus:()=>x(e.shouldUseVirtualFocus),allowsTabNavigation:()=>x(e.allowsTabNavigation),isVirtualized:()=>x(e.isVirtualized),scrollToKey:i=>{var s;return(s=x(e.scrollToKey))==null?void 0:s(i)},orientation:()=>x(e.orientation)},t,n)}var of={};wn(of,{Item:()=>En,ItemDescription:()=>An,ItemIndicator:()=>In,ItemLabel:()=>Tn,Listbox:()=>lf,Root:()=>Lr,Section:()=>Ln});var as=ze();function sf(){const e=Be(as);if(e===void 0)throw new Error("[kobalte]: `useListboxContext` must be used within a `Listbox` component");return e}var cs=ze();function Tr(){const e=Be(cs);if(e===void 0)throw new Error("[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component");return e}function En(e){let t;const n=sf(),r=`${n.generateId("item")}-${lt()}`,o=J({id:r},e),[i,s]=V(o,["ref","item","aria-label","aria-labelledby","aria-describedby","onPointerMove","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[l,a]=L(),[c,d]=L(),f=()=>n.listState().selectionManager(),u=()=>f().focusedKey()===i.item.key,g=rd({key:()=>i.item.key,selectionManager:f,shouldSelectOnPressUp:n.shouldSelectOnPressUp,allowsDifferentPressOrigin:()=>n.shouldSelectOnPressUp()&&n.shouldFocusOnHover(),shouldUseVirtualFocus:n.shouldUseVirtualFocus,disabled:()=>i.item.disabled},()=>t),h=()=>{if(f().selectionMode()!=="none")return g.isSelected()},b=P(()=>!(Wt()&&qa())),p=()=>b()?i["aria-label"]:void 0,v=()=>b()?l():void 0,m=()=>b()?c():void 0,S=()=>{var F;if(!n.isVirtualized())return;const I=(F=n.listState().collection().getItem(i.item.key))==null?void 0:F.index;return I!=null?I+1:void 0},C=()=>{if(n.isVirtualized())return ar(n.listState().collection())},w=I=>{fe(I,i.onPointerMove),I.pointerType==="mouse"&&!g.isDisabled()&&n.shouldFocusOnHover()&&(le(I.currentTarget),f().setFocused(!0),f().setFocusedKey(i.item.key))},O=P(()=>({"data-disabled":g.isDisabled()?"":void 0,"data-selected":g.isSelected()?"":void 0,"data-highlighted":u()?"":void 0})),A={isSelected:g.isSelected,dataset:O,generateId:jt(()=>s.id),registerLabelId:Ee(a),registerDescriptionId:Ee(d)};return y(cs.Provider,{value:A,get children(){return y(ne,T({as:"li",ref(I){var F=ue(K=>t=K,i.ref);typeof F=="function"&&F(I)},role:"option",get tabIndex(){return g.tabIndex()},get"aria-disabled"(){return g.isDisabled()},get"aria-selected"(){return h()},get"aria-label"(){return p()},get"aria-labelledby"(){return v()},get"aria-describedby"(){return m()},get"aria-posinset"(){return S()},get"aria-setsize"(){return C()},get"data-key"(){return g.dataKey()},get onPointerDown(){return ye([i.onPointerDown,g.onPointerDown])},get onPointerUp(){return ye([i.onPointerUp,g.onPointerUp])},get onClick(){return ye([i.onClick,g.onClick])},get onKeyDown(){return ye([i.onKeyDown,g.onKeyDown])},get onMouseDown(){return ye([i.onMouseDown,g.onMouseDown])},get onFocus(){return ye([i.onFocus,g.onFocus])},onPointerMove:w},O,s))}})}function An(e){const t=Tr(),n=J({id:t.generateId("description")},e);return R(()=>j(t.registerDescriptionId(n.id))),y(ne,T({as:"div"},()=>t.dataset(),n))}function In(e){const t=Tr(),n=J({id:t.generateId("indicator")},e),[r,o]=V(n,["forceMount"]);return y(Y,{get when(){return r.forceMount||t.isSelected()},get children(){return y(ne,T({as:"div","aria-hidden":"true"},()=>t.dataset(),o))}})}function Tn(e){const t=Tr(),n=J({id:t.generateId("label")},e);return R(()=>j(t.registerLabelId(n.id))),y(ne,T({as:"div"},()=>t.dataset(),n))}function Lr(e){let t;const n=`listbox-${lt()}`,r=J({id:n,selectionMode:"single",virtualized:!1},e),[o,i]=V(r,["ref","children","renderItem","renderSection","value","defaultValue","onChange","options","optionValue","optionTextValue","optionDisabled","optionGroupChildren","state","keyboardDelegate","autoFocus","selectionMode","shouldFocusWrap","shouldUseVirtualFocus","shouldSelectOnPressUp","shouldFocusOnHover","allowDuplicateSelectionEvents","disallowEmptySelection","selectionBehavior","selectOnFocus","disallowTypeAhead","allowsTabNavigation","virtualized","scrollToItem","scrollRef","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),s=P(()=>o.state?o.state:Yi({selectedKeys:()=>o.value,defaultSelectedKeys:()=>o.defaultValue,onSelectionChange:o.onChange,allowDuplicateSelectionEvents:()=>x(o.allowDuplicateSelectionEvents),disallowEmptySelection:()=>x(o.disallowEmptySelection),selectionBehavior:()=>x(o.selectionBehavior),selectionMode:()=>x(o.selectionMode),dataSource:()=>o.options??[],getKey:()=>o.optionValue,getTextValue:()=>o.optionTextValue,getDisabled:()=>o.optionDisabled,getSectionChildren:()=>o.optionGroupChildren})),l=rf({selectionManager:()=>s().selectionManager(),collection:()=>s().collection(),autoFocus:()=>x(o.autoFocus),shouldFocusWrap:()=>x(o.shouldFocusWrap),keyboardDelegate:()=>o.keyboardDelegate,disallowEmptySelection:()=>x(o.disallowEmptySelection),selectOnFocus:()=>x(o.selectOnFocus),disallowTypeAhead:()=>x(o.disallowTypeAhead),shouldUseVirtualFocus:()=>x(o.shouldUseVirtualFocus),allowsTabNavigation:()=>x(o.allowsTabNavigation),isVirtualized:()=>o.virtualized,scrollToKey:()=>o.scrollToItem},()=>t,()=>{var c;return(c=o.scrollRef)==null?void 0:c.call(o)}),a={listState:s,generateId:jt(()=>i.id),shouldUseVirtualFocus:()=>r.shouldUseVirtualFocus,shouldSelectOnPressUp:()=>r.shouldSelectOnPressUp,shouldFocusOnHover:()=>r.shouldFocusOnHover,isVirtualized:()=>o.virtualized};return y(as.Provider,{value:a,get children(){return y(ne,T({as:"ul",ref(c){var d=ue(f=>t=f,o.ref);typeof d=="function"&&d(c)},role:"listbox",get tabIndex(){return l.tabIndex()},get"aria-multiselectable"(){return s().selectionManager().selectionMode()==="multiple"?!0:void 0},get onKeyDown(){return ye([o.onKeyDown,l.onKeyDown])},get onMouseDown(){return ye([o.onMouseDown,l.onMouseDown])},get onFocusIn(){return ye([o.onFocusIn,l.onFocusIn])},get onFocusOut(){return ye([o.onFocusOut,l.onFocusOut])}},i,{get children(){return y(Y,{get when(){return!o.virtualized},get fallback(){var c;return(c=o.children)==null?void 0:c.call(o,s().collection)},get children(){return y(za,{get each(){return[...s().collection()]},by:"key",children:c=>y(_o,{get children(){return[y(Gn,{get when(){return c().type==="section"},get children(){var d;return(d=o.renderSection)==null?void 0:d.call(o,c())}}),y(Gn,{get when(){return c().type==="item"},get children(){var d;return(d=o.renderItem)==null?void 0:d.call(o,c())}})]}})})}})}}))}})}function Ln(e){return y(ne,T({as:"li",role:"presentation"},e))}var lf=Object.assign(Lr,{Item:En,ItemDescription:An,ItemIndicator:In,ItemLabel:Tn,Section:Ln}),af={};wn(af,{Arrow:()=>Ir,Combobox:()=>ge,Content:()=>ds,Control:()=>ms,Description:()=>Ri,ErrorMessage:()=>Ni,HiddenSelect:()=>ps,Icon:()=>bs,Input:()=>fs,Item:()=>En,ItemDescription:()=>An,ItemIndicator:()=>In,ItemLabel:()=>Tn,Label:()=>Vi,Listbox:()=>gs,Portal:()=>hs,Root:()=>ys,Section:()=>Ln,Trigger:()=>vs});var us=ze();function tt(){const e=Be(us);if(e===void 0)throw new Error("[kobalte]: `useComboboxContext` must be used within a `Combobox` component");return e}function ds(e){let t;const n=tt(),[r,o]=V(e,["ref","style","onCloseAutoFocus","onFocusOutside"]),i=()=>{n.resetInputValue(n.listState().selectionManager().selectedKeys()),n.close()},s=l=>{var a;(a=r.onFocusOutside)==null||a.call(r,l),n.isOpen()&&n.isModal()&&l.preventDefault()};return hi({isDisabled:()=>!(n.isOpen()&&n.isModal()),targets:()=>{const l=[];t&&l.push(t);const a=n.controlRef();return a&&l.push(a),l}}),vi({element:()=>t??null,enabled:()=>n.isOpen()&&n.preventScroll()}),fi({trapFocus:()=>n.isOpen()&&n.isModal(),onMountAutoFocus:l=>{l.preventDefault()},onUnmountAutoFocus:l=>{var a;(a=r.onCloseAutoFocus)==null||a.call(r,l),l.defaultPrevented||(le(n.inputRef()),l.preventDefault())}},()=>t),y(Y,{get when(){return n.contentPresent()},get children(){return y(ss.Positioner,{get children(){return y(pi,T({ref(l){var a=ue(c=>{n.setContentRef(c),t=c},r.ref);typeof a=="function"&&a(l)},get disableOutsidePointerEvents(){return P(()=>!!n.isModal())()&&n.isOpen()},get excludedElements(){return[n.controlRef]},get style(){return{"--kb-combobox-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative",...r.style}},onFocusOutside:s,onDismiss:i},()=>n.dataset(),o))}})}})}function fs(e){let t;const n=We(),r=tt(),o=J({id:r.generateId("input")},e),[i,s,l]=V(o,["ref","disabled","onInput","onKeyDown","onFocus","onBlur","onTouchEnd"],Vu),a=()=>r.listState().collection(),c=()=>r.listState().selectionManager(),d=()=>i.disabled||r.isDisabled()||n.isDisabled(),{fieldProps:f}=zu(s),u=m=>{if(fe(m,i.onInput),n.isReadOnly()||d())return;const S=m.target;r.setInputValue(S.value),S.value=r.inputValue()??"",r.isOpen()?a().getSize()<=0&&!r.allowsEmptyCollection()&&r.close():a().getSize()>0&&r.open(!1,"input")},g=m=>{if(fe(m,i.onKeyDown),!(n.isReadOnly()||d()))switch(r.isOpen()&&fe(m,r.onInputKeyDown),m.key){case"Enter":if(r.isOpen()){m.preventDefault();const S=c().focusedKey();S!=null&&c().select(S)}break;case"Tab":r.isOpen()&&(r.close(),r.resetInputValue(r.listState().selectionManager().selectedKeys()));break;case"Escape":r.isOpen()?(r.close(),r.resetInputValue(r.listState().selectionManager().selectedKeys())):r.setInputValue("");break;case"ArrowDown":r.isOpen()||r.open(m.altKey?!1:"first","manual");break;case"ArrowUp":r.isOpen()?m.altKey&&(r.close(),r.resetInputValue(r.listState().selectionManager().selectedKeys())):r.open("last","manual");break;case"ArrowLeft":case"ArrowRight":c().setFocusedKey(void 0);break;case"Backspace":if(r.removeOnBackspace()&&c().selectionMode()==="multiple"&&r.inputValue()===""){const S=[...c().selectedKeys()].pop()??"";c().toggleSelection(S)}break}},h=m=>{fe(m,i.onFocus),!r.isInputFocused()&&r.setIsInputFocused(!0)},b=m=>{fe(m,i.onBlur),!(xe(r.controlRef(),m.relatedTarget)||xe(r.contentRef(),m.relatedTarget))&&r.setIsInputFocused(!1)};let p=0;return y(ne,T({as:"input",ref(m){var S=ue(C=>{r.setInputRef(C),t=C},i.ref);typeof S=="function"&&S(m)},get id(){return f.id()},get value(){return r.inputValue()},get required(){return n.isRequired()},get disabled(){return n.isDisabled()},get readonly(){return n.isReadOnly()},get placeholder(){return r.placeholder()},type:"text",role:"combobox",autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-haspopup":"listbox","aria-autocomplete":"list",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return P(()=>!!r.isOpen())()?r.listboxId():void 0},get"aria-activedescendant"(){return r.activeDescendant()},get"aria-label"(){return f.ariaLabel()},get"aria-labelledby"(){return f.ariaLabelledBy()},get"aria-describedby"(){return f.ariaDescribedBy()},get"aria-invalid"(){return n.validationState()==="invalid"||void 0},get"aria-required"(){return n.isRequired()||void 0},get"aria-disabled"(){return n.isDisabled()||void 0},get"aria-readonly"(){return n.isReadOnly()||void 0},onInput:u,onKeyDown:g,onFocus:h,onBlur:b,onTouchEnd:m=>{if(fe(m,i.onTouchEnd),!t||n.isReadOnly()||d())return;if(m.timeStamp-p<500){m.preventDefault(),t.focus();return}const S=m.target.getBoundingClientRect(),C=m.changedTouches[0],w=Math.ceil(S.left+.5*S.width),O=Math.ceil(S.top+.5*S.height);C.clientX===w&&C.clientY===O&&(m.preventDefault(),t.focus(),r.toggle(!1,"manual"),p=m.timeStamp)}},()=>r.dataset(),()=>n.dataset(),l))}function gs(e){const t=We(),n=tt(),r=J({id:n.generateId("listbox")},e),[o,i]=V(r,["ref"]),s=()=>t.getAriaLabelledBy(i.id,n.listboxAriaLabel(),void 0);return R(()=>j(n.registerListboxId(i.id))),y(Lr,T({ref(l){var a=ue(n.setListboxRef,o.ref);typeof a=="function"&&a(l)},get state(){return n.listState()},get autoFocus(){return n.autoFocus()},shouldUseVirtualFocus:!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,get"aria-label"(){return n.listboxAriaLabel()},get"aria-labelledby"(){return s()},get renderItem(){return n.renderItem},get renderSection(){return n.renderSection},get virtualized(){return n.isVirtualized()}},i))}function hs(e){const t=tt();return y(Y,{get when(){return t.contentPresent()},get children(){return y(Ro,e)}})}function ms(e){const t=We(),n=tt(),[r,o]=V(e,["ref","children"]),i=()=>n.listState().selectionManager();return y(ne,T({as:"div",ref(s){var l=ue(n.setControlRef,r.ref);typeof l=="function"&&l(s)}},()=>n.dataset(),()=>t.dataset(),o,{get children(){return y(cf,{state:{selectedOptions:()=>n.selectedOptions(),remove:s=>n.removeOptionFromSelection(s),clear:()=>i().clearSelection()},get children(){return r.children}})}}))}function cf(e){const t=cr(()=>{const n=e.children;return Mt(n)?n(e.state):n});return P(t)}function ps(e){const t=tt();return y(nf,T({get collection(){return t.listState().collection()},get selectionManager(){return t.listState().selectionManager()},get isOpen(){return t.isOpen()},get isMultiple(){return t.isMultiple()},get isVirtualized(){return t.isVirtualized()},focusTrigger:()=>{var n;return(n=t.inputRef())==null?void 0:n.focus()}},e))}function bs(e){const t=tt(),n=J({children:""},e);return y(ne,T({as:"span","aria-hidden":"true"},()=>t.dataset(),n))}var uf={focusAnnouncement:(e,t)=>`${e}${t?", selected":""}`,countAnnouncement:e=>{switch(e){case 1:return"one option available"}},selectedAnnouncement:e=>`${e}, selected`,triggerLabel:"Show suggestions",listboxLabel:"Suggestions"};function df(e){const t=`combobox-${lt()}`,n=Wi({sensitivity:"base"}),r=J({id:t,selectionMode:"single",allowsEmptyCollection:!1,disallowEmptySelection:!1,allowDuplicateSelectionEvents:!0,closeOnSelection:e.selectionMode==="single",removeOnBackspace:!0,gutter:8,sameWidth:!0,modal:!1,defaultFilter:"contains",triggerMode:"input",translations:uf},e),[o,i,s,l]=V(r,["translations","itemComponent","sectionComponent","open","defaultOpen","onOpenChange","onInputChange","value","defaultValue","onChange","triggerMode","placeholder","options","optionValue","optionTextValue","optionLabel","optionDisabled","optionGroupChildren","keyboardDelegate","allowDuplicateSelectionEvents","disallowEmptySelection","defaultFilter","shouldFocusWrap","allowsEmptyCollection","closeOnSelection","removeOnBackspace","selectionBehavior","selectionMode","virtualized","modal","preventScroll","forceMount"],["getAnchorRect","placement","gutter","shift","flip","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding"],Ru),[a,c]=L(),[d,f]=L(),[u,g]=L(),[h,b]=L(),[p,v]=L(),[m,S]=L(),[C,w]=L(!1),[O,A]=L(!1),[I,F]=L(!1),[K,G]=L(o.options),_=bi({open:()=>o.open,defaultOpen:()=>o.defaultOpen,onOpenChange:k=>{var E;return(E=o.onOpenChange)==null?void 0:E.call(o,k,He)}}),[ee,B]=yr({defaultValue:()=>"",onChange:k=>{var E;(E=o.onInputChange)==null||E.call(o,k),k===""&&o.selectionMode==="single"&&!q.selectionManager().isEmpty()&&o.value===void 0&&q.selectionManager().setSelectedKeys([]),q.selectionManager().setFocusedKey(void 0)}}),Q=k=>{const E=o.optionValue;return E==null?String(k):String(Mt(E)?E(k):k[E])},D=k=>{const E=o.optionLabel;return E==null?String(k):String(Mt(E)?E(k):k[E])},U=P(()=>{const k=o.optionGroupChildren;return k==null?o.options:o.options.flatMap(E=>E[k]??E)}),te=k=>{var re;const E=ee()??"";if(Mt(o.defaultFilter))return(re=o.defaultFilter)==null?void 0:re.call(o,k,E);const W=D(k);switch(o.defaultFilter){case"startsWith":return n.startsWith(W,E);case"endsWith":return n.endsWith(W,E);case"contains":return n.contains(W,E)}},oe=P(()=>{const k=o.optionGroupChildren;if(k==null)return o.options.filter(te);const E=[];for(const W of o.options){const re=W[k].filter(te);re.length!==0&&E.push({...W,[k]:re})}return E}),dt=P(()=>_.isOpen()?I()?o.options:oe():K());let He="focus";const nt=k=>[...k].map(E=>U().find(W=>Q(W)===E)).filter(E=>E!=null),q=Yi({selectedKeys:()=>o.value!=null?o.value.map(Q):o.value,defaultSelectedKeys:()=>o.defaultValue!=null?o.defaultValue.map(Q):o.defaultValue,onSelectionChange:k=>{var W;(W=o.onChange)==null||W.call(o,nt(k)),o.closeOnSelection&&_.isOpen()&&k.size>0&&(qt(),setTimeout(qt));const E=u();E&&(E.setSelectionRange(E.value.length,E.value.length),le(E))},allowDuplicateSelectionEvents:()=>x(o.allowDuplicateSelectionEvents),disallowEmptySelection:()=>o.disallowEmptySelection,selectionBehavior:()=>x(o.selectionBehavior),selectionMode:()=>o.selectionMode,dataSource:dt,getKey:()=>o.optionValue,getTextValue:()=>o.optionTextValue,getDisabled:()=>o.optionDisabled,getSectionChildren:()=>o.optionGroupChildren}),ws=P(()=>nt(q.selectionManager().selectedKeys())),xs=k=>{q.selectionManager().toggleSelection(Q(k))},{present:Ss}=rr({show:()=>o.forceMount||_.isOpen(),element:p}),Pn=(k,E)=>{if(!(F(E==="manual")?o.options.length>0:oe().length>0)&&!o.allowsEmptyCollection)return;He=E,w(k),_.open();let qe=q.selectionManager().firstSelectedKey();qe==null&&(k==="first"?qe=q.collection().getFirstKey():k==="last"&&(qe=q.collection().getLastKey())),q.selectionManager().setFocused(!0),q.selectionManager().setFocusedKey(qe)},qt=()=>{_.close(),q.selectionManager().setFocused(!1),q.selectionManager().setFocusedKey(void 0)},Cs=(k,E)=>{_.isOpen()?qt():Pn(k,E)},{formControlContext:$n}=Nu(s);Bu(u,()=>{const k=o.defaultValue?[...o.defaultValue].map(Q):new Oe;q.selectionManager().setSelectedKeys(k)});const Pr=P(()=>{const k=x(o.keyboardDelegate);return k||new ls(q.collection,m,void 0)}),ks=Gi({selectionManager:()=>q.selectionManager(),keyboardDelegate:Pr,disallowTypeAhead:!0,disallowEmptySelection:!0,shouldFocusWrap:()=>o.shouldFocusWrap,isVirtualized:!0},u),Os=k=>{k&&o.triggerMode==="focus"&&Pn(!1,"focus"),A(k),q.selectionManager().setFocused(k)},Es=P(()=>{var E,W;const k=q.selectionManager().focusedKey();if(k)return(W=(E=m())==null?void 0:E.querySelector(`[data-key="${k}"]`))==null?void 0:W.id}),$r=k=>{if(o.selectionMode==="single"){const E=[...k][0],W=U().find(re=>Q(re)===E);B(W?D(W):"")}else B("")},As=k=>{var E;return(E=o.itemComponent)==null?void 0:E.call(o,{item:k})},Is=k=>{var E;return(E=o.sectionComponent)==null?void 0:E.call(o,{section:k})};R(Xe([oe,I],(k,E)=>{if(_.isOpen()&&E!=null){const W=E[0],re=E[1];G(re?o.options:W)}else{const W=k[0],re=k[1];G(re?o.options:W)}})),R(Xe(ee,()=>{I()&&F(!1)})),R(Xe(()=>q.selectionManager().selectedKeys(),$r));let Dr="";R(()=>{var W;const k=q.selectionManager().focusedKey()??"",E=q.collection().getItem(k);if(Jt()&&E!=null&&k!==Dr){const re=q.selectionManager().isSelected(k),qe=((W=o.translations)==null?void 0:W.focusAnnouncement((E==null?void 0:E.textValue)||"",re))??"";Nn(qe)}k&&(Dr=k)});let Mr=ar(q.collection()),Fr=_.isOpen();R(()=>{var re;const k=ar(q.collection()),E=_.isOpen(),W=E!==Fr&&(q.selectionManager().focusedKey()==null||Jt());if(E&&(W||k!==Mr)){const qe=((re=o.translations)==null?void 0:re.countAnnouncement(k))??"";Nn(qe)}Mr=k,Fr=E});let _r="";R(()=>{var W;const k=[...q.selectionManager().selectedKeys()].pop()??"",E=q.collection().getItem(k);if(Jt()&&O()&&E&&k!==_r){const re=((W=o.translations)==null?void 0:W.selectedAnnouncement((E==null?void 0:E.textValue)||""))??"";Nn(re)}k&&(_r=k)});const Kr=P(()=>({"data-expanded":_.isOpen()?"":void 0,"data-closed":_.isOpen()?void 0:""})),Rr={dataset:Kr,isOpen:_.isOpen,isDisabled:()=>$n.isDisabled()??!1,isMultiple:()=>x(o.selectionMode)==="multiple",isVirtualized:()=>o.virtualized??!1,isModal:()=>o.modal??!1,preventScroll:()=>o.preventScroll??Rr.isModal(),allowsEmptyCollection:()=>o.allowsEmptyCollection??!1,shouldFocusWrap:()=>o.shouldFocusWrap??!1,removeOnBackspace:()=>o.removeOnBackspace??!0,selectedOptions:ws,isInputFocused:O,contentPresent:Ss,autoFocus:C,inputValue:ee,triggerMode:()=>o.triggerMode,activeDescendant:Es,controlRef:d,inputRef:u,triggerRef:h,contentRef:p,listState:()=>q,keyboardDelegate:Pr,listboxId:a,triggerAriaLabel:()=>{var k;return(k=o.translations)==null?void 0:k.triggerLabel},listboxAriaLabel:()=>{var k;return(k=o.translations)==null?void 0:k.listboxLabel},setIsInputFocused:Os,resetInputValue:$r,setInputValue:B,setControlRef:f,setInputRef:g,setTriggerRef:b,setContentRef:v,setListboxRef:S,open:Pn,close:qt,toggle:Cs,placeholder:()=>o.placeholder,renderItem:As,renderSection:Is,removeOptionFromSelection:xs,onInputKeyDown:k=>ks.onKeyDown(k),generateId:jt(()=>x(s.id)),registerListboxId:Ee(c)};return y(Ki.Provider,{value:$n,get children(){return y(us.Provider,{value:Rr,get children(){return y(ss,T({anchorRef:d,contentRef:p},i,{get children(){return y(ne,T({as:"div",role:"group",get id(){return x(s.id)}},()=>$n.dataset(),Kr,l))}}))}})}})}function ys(e){const[t,n]=V(e,["value","defaultValue","onChange","multiple"]),r=P(()=>t.value!=null?t.multiple?t.value:[t.value]:t.value),o=P(()=>t.defaultValue!=null?t.multiple?t.defaultValue:[t.defaultValue]:t.defaultValue);return y(df,T({get value(){return r()},get defaultValue(){return o()},onChange:s=>{var l,a;t.multiple?(l=t.onChange)==null||l.call(t,s):(a=t.onChange)==null||a.call(t,s[0]??null)},get selectionMode(){return t.multiple?"multiple":"single"}},n))}function vs(e){const t=We(),n=tt(),r=J({id:n.generateId("trigger")},e),[o,i]=V(r,["ref","disabled","onPointerDown","onClick","aria-labelledby"]),s=()=>o.disabled||n.isDisabled()||t.isDisabled()||t.isReadOnly(),l=d=>{fe(d,o.onPointerDown),d.currentTarget.dataset.pointerType=d.pointerType,!s()&&d.pointerType!=="touch"&&d.button===0&&(d.preventDefault(),n.toggle(!1,"manual"))},a=d=>{var f;fe(d,o.onClick),s()||(d.currentTarget.dataset.pointerType==="touch"&&n.toggle(!1,"manual"),(f=n.inputRef())==null||f.focus())},c=()=>t.getAriaLabelledBy(i.id,n.triggerAriaLabel(),o["aria-labelledby"]);return y(Ut,T({ref(d){var f=ue(n.setTriggerRef,o.ref);typeof f=="function"&&f(d)},get disabled(){return s()},tabIndex:-1,"aria-haspopup":"listbox",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return P(()=>!!n.isOpen())()?n.listboxId():void 0},get"aria-label"(){return n.triggerAriaLabel()},get"aria-labelledby"(){return c()},onPointerDown:l,onClick:a},()=>n.dataset(),i))}var ge=Object.assign(ys,{Arrow:Ir,Content:ds,Control:ms,Description:Ri,ErrorMessage:Ni,HiddenSelect:ps,Icon:bs,Input:fs,Item:En,ItemDescription:An,ItemIndicator:In,ItemLabel:Tn,Label:Vi,Listbox:gs,Portal:hs,Section:Ln,Trigger:vs}),ff=$("<div class=prompt-instructions>"),gf=$("<div class=twcss>"),hf=$("<div class=prompt-instruction><span class=prompt-instruction-command></span><span>"),mf=$('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="m5 12l5 5L20 7"></path><title>Checked'),pf=$("<div class=suggestion-title>"),bf=$("<div class=suggestion-note>"),yf=$("<div class=suggestion-aux>");const vf=ge;ge.Description;ge.ErrorMessage;ge.ItemDescription;ge.HiddenSelect;const wf=e=>{const[t,n]=V(e,["class"]);return y(ge.Input,T({get class(){return Ce("",t.class)}},n,n))},xf=e=>{const[t,n]=V(e,["class","children"]);return y(ge.Control,{get children(){return y(ge.Trigger,T({"aria-label":"",get class(){return Ce("size-fit border-none bg-transparent p-1 shadow-none",t.class)}},n,{get children(){return t.children}}))}})},Sf=e=>{const[t,n]=V(e,["class","promptInstructions"]);return y(ge.Portal,{get children(){var r=gf();return M(r,y(ge.Content,T({get class(){return Ce("suggestion-container relative z-50 min-w-[8rem] overflow-hidden data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95 data-[expanded]:zoom-in-95",t.class)}},n,{get children(){return[y(ge.Listbox,{"aria-label":"",class:"suggestion m-0"}),y(Y,{get when(){return t.promptInstructions&&t.promptInstructions.length},get children(){var o=ff();return M(o,y(Gs,{get each(){return t.promptInstructions},children:i=>(()=>{var s=hf(),l=s.firstChild,a=l.nextSibling;return M(l,()=>i()[0]),M(a,()=>i()[1]),s})()})),o}})]}}))),r}})},Cf=e=>{const[t,n]=V(e,["class","children","note","auxLabel"]);return y(ge.Item,T({get class(){return Ce("suggestion-item mod-complex relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[highlighted]:bg-interactive-hover data-[highlighted]:text-accent-foreground data-[disabled]:opacity-50",t.class)}},n,{get children(){return[y(ge.ItemIndicator,{class:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",get children(){return mf()}}),y(ge.ItemLabel,{class:"suggestion-content",get children(){return[(()=>{var r=pf();return M(r,()=>t.children),r})(),(()=>{var r=bf();return M(r,()=>t.note),r})()]}}),(()=>{var r=yf();return M(r,()=>t.auxLabel),r})()]}}))},Ao=[["Type [[","to link note"],["Type #","to choose tag"]],kf=[["Type #","to link heading"],["Type ^","to link blocks"],["Type |","to change display text"]],Of=[["","to accept"]],Lt=Wi({sensitivity:"base"}),Ef=e=>{const[t,n]=L(""),[r,o]=pt(e.defaultOptions),[i,s]=pt([]),[l,a]=pt([]),[c,d]=pt(Ao);let f=!1;const u=[...e.defaultOptions],g=w=>{const O=w.toLowerCase(),A=u.filter(I=>{const F=Lt.contains(I,O);return F&&(i.push(),F)});d(Ao),o(A)},h=()=>{o([Wr]),s([]),a([])},b=w=>{const O=w.slice(2).toLowerCase(),A=e.app.vault.getAllLoadedFiles().filter(K=>K instanceof ce.TFile),I=[],F=A.filter(K=>Lt.contains(K.path,O)).map(K=>(I.push(K.path),K.basename));s(I),o(F),d(kf)},p=w=>{const O=w.slice(1).toLowerCase(),F=Object.keys(e.app.metadataCache.getTags()).map(K=>K.slice(1).toLowerCase()).filter(K=>Lt.contains(K,O));o(F),s([]),d([])},v=(w,O)=>{const A=[],I=O.filter(F=>{const K=Lt.contains(F.heading,w);return K&&(A.push("H"+F.level),K)}).map(F=>F.heading);if(!I.length)return h();a(A),o(I)},m=(w,O)=>{const A=O.filter(I=>I.id&&Lt.contains(I.id,w)).map(I=>I.id);if(console.log("filtered: ",A),!A.length)return h();o(A)},S=w=>{var B,Q;f=!0,s([]),a([]),d(Of);const O=/\[\[(?<title>\S|[^\[|\]|\]\]]+)(?:#|\^)(?<sub>.*[^\]]|)/gm.exec(w),A=(B=O==null?void 0:O.groups)==null?void 0:B.title,I=((Q=O==null?void 0:O.groups)==null?void 0:Q.sub)??"";if(!A)return h();const F=A.endsWith(".md")?A:A+".md",K=e.app.vault.getFileByPath(F);if(!K)return h();const G=e.app.metadataCache.getFileCache(K);if(!G)return h();const{sections:_,headings:ee}=G;if(w.includes("#"))return ee?v(I,ee):h();if(!_)return h();m(I,_)},C=w=>(f=!1,a([]),w[0]==="#"?p(w):/\[\[.*#|\^/.test(w)?S(w):w.startsWith("[[")?b(w):g(w));return y(vf,{triggerMode:"input",get value(){return t()},onChange:w=>{if(w===Wr)return n("");if(f){const O=t(),A=O.indexOf("#"),I=A!==-1?A:O.indexOf("^");if(I===-1)throw new Error("This shouldn't happen");return n(O.slice(0,I+1)+w+O.slice(I+1))}if(t().includes("[["))return n("[["+w+"]]");if(t().startsWith("#"))return n("#"+w);n(w)},options:r,onInputChange:C,defaultFilter:()=>!0,itemComponent:w=>y(Cf,T(()=>e.itemProps,{get item(){return w.item},get note(){return i[w.item.index]},get auxLabel(){return l[w.item.index]},get children(){return w.item.rawValue}})),get children(){return[y(xf,T(()=>e.triggerProps,{get children(){return y(wf,T(()=>e.inputProps,{get value(){return t()},onFocus:w=>{C(w.currentTarget.value);const{onFocus:O}=e.inputProps??{};!O||typeof O!="function"||O(w)},onInput:w=>n(w.currentTarget.value)}))}})),y(Sf,{promptInstructions:c})]}})};var Af=$('<div class="h-fit w-full overflow-x-scroll">'),If=$('<div class="flex items-center gap-2">'),Io=$("<div class=clickable-icon>"),Tf=$("<div>"),Lf=$("<input type=text id=new-note-template name=new-note-template list=template-list>"),Pf=$("<datalist id=template-list>"),$f=$("<input type=text id=table-class-name name=table-class-name>"),Df=$('<div class="flex size-full max-h-[90%] flex-col gap-2 overflow-y-auto pr-2">'),Mf=$("<option>"),Ff=$('<div class="flex w-full items-center justify-between border-0 border-t-[1px] border-solid border-t-[var(--background-modifier-border)] pt-2"><label><div class=setting-item-name></div><div class=setting-item-description>');function _f(e){const[t,n]=V(e,["uid","queryResultStore","setQueryResultStore"]),{plugin:r,query:o,config:i,dataviewAPI:s}=n,l=P(()=>e.queryResultStore[e.uid]??jr,jr),a=async()=>{const f=Cl(o),u=await s.query(o);if(!u.successful){t.setQueryResultStore(t.uid,{...u,truePropertyNames:f});return}u.value.values=u.value.values.map(g=>g.map(h=>Sl(h))),t.setQueryResultStore(t.uid,{...u,truePropertyNames:f})};a(),yl(r,a);let c;const d=f=>{console.log("container focused"),c.getMode()==="preview"&&(f.stopPropagation(),f.preventDefault())};return Bt(()=>{(async()=>(await new Promise(f=>setTimeout(f,0)),n.plugin.app.workspace.iterateRootLeaves(f=>{f.view.containerEl.contains(n.el)&&(c=f.view,f.view.containerEl.addEventListener("click",d))})))()}),j(()=>{vl(r,a),(async()=>(await new Promise(f=>setTimeout(f,0)),n.plugin.app.workspace.iterateRootLeaves(f=>{f.view.containerEl.contains(n.el)&&f.view.containerEl.removeEventListener("click",d)})))()}),y(ei.Provider,{value:n,get children(){return[(()=>{var f=Af();return M(f,y($u,{get queryResults(){return l()}})),f})(),(()=>{var f=If();return M(f,y(Kf,{config:i})),f})()]}})}const Kf=e=>{const t=we(),[n,r]=L(!1),o=(i,s)=>{Ho(i,s,t)};return[y(Rf,{get config(){return e.config},codeBlockInfo:t,get open(){return n()},setOpen:r}),(()=>{var i=Io();return i.$$click=()=>r(s=>!s),M(i,y(jl,{size:"1rem"})),i})(),y(ve,{get each(){return Object.keys(e.config)},children:i=>{const s=e.config[i];return y(_o,{get children(){return y(Gn,{when:i==="lockEditing",get children(){var l=Io();return l.$$click=async()=>o(i,!s),M(l,y(Y,{when:s===!0,get fallback(){return y(Vl,{size:"1rem"})},get children(){return y(Kl,{size:"1rem"})}})),l}})}})}}),(()=>{var i=Tf();return M(i,y(Ef,{get app(){return t.plugin.app},defaultOptions:["option a","option b","option c"]})),i})()]},Rf=e=>{const[t,n]=pt(e.config),r=qo(e.codeBlockInfo.plugin.app),o=(i,s)=>{n(l=>({...l,[i]:s}))};return y(xn,{get open(){return e.open},get onOpenChange(){return e.setOpen},get children(){return[y(Y,{get when(){return e.trigger},get children(){return y(vr,{get children(){return e.trigger}})}}),y(Sn,{get children(){return[y(Cn,{children:"Block configuration"}),y(Li,{get children(){return["see the docs"," ",y($i,{href:"https://github.com/unxok/obsidian-dataedit",children:"here"})," ","for more information"]}}),(()=>{var i=Df();return M(i,y(jn,{title:"Lock editing",description:`Prevents editing in all cells which makes links and tags\r
                clickable.`,labelFor:"lock-editing-toggle",get children(){return y(Ku,{id:"lock-editing-toggle",name:"lock-editing-toggle",get checked(){return t.lockEditing},onCheckedChange:s=>o("lockEditing",s)})}}),null),M(i,y(jn,{title:"New note template",description:"Path to the template file to use by default for notes created view the 'add row' button. Must be within the template folder configured in core plugin setting.",labelFor:"new-note-template",get children(){return[(()=>{var s=Lf();return s.$$input=l=>o("newNoteTemplatePath",l.currentTarget.value),z(()=>s.value=t.newNoteTemplatePath),s})(),(()=>{var s=Pf();return M(s,y(ve,{each:r,children:l=>(()=>{var a=Mf();return M(a,()=>l.basename),z(()=>a.value=l.path),a})()})),s})()]}}),null),M(i,y(jn,{title:"Table CSS class",description:"Class name to attach to the table element. Do spaces to separate multiple if desired.",labelFor:"table-class-name",get children(){var s=$f();return s.$$input=l=>o("tableClassName",l.currentTarget.value),z(()=>s.value=t.tableClassName),s}}),null),i})(),y(Pi,{get children(){return[y(Vn,{get class(){return en.outline},onClick:async()=>{Ur(Jn,e.codeBlockInfo)},children:"reset"}),y(Vn,{get class(){return en.ghost},onClick:()=>e.setOpen&&e.setOpen(!1),children:"cancel"}),y(Vn,{get class(){return en.accent},onClick:async()=>{Ur(t,e.codeBlockInfo),e.setOpen&&e.setOpen(!1)},children:"save"})]}})]}})]}})},jn=e=>(()=>{var t=Ff(),n=t.firstChild,r=n.firstChild,o=r.nextSibling;return M(r,()=>e.title),M(o,()=>e.description),M(t,()=>e.children,null),z(()=>Ke(n,"for",e.labelFor)),t})();$e(["click","input"]);const Nf=e=>{if(e){const{plugins:r}=e.plugins;if(r.hasOwnProperty("dataview"))return r.dataview.api}const t=app.plugins.plugins;if(t.hasOwnProperty("dataview"))return t.dataview.api;const n="Failed to get Dataview API. Is Dataview installed & enabled?";throw new ce.Notice(n),new Error(n)};class Vf extends ce.Plugin{async onload(){await app.plugins.loadPlugin("dataview"),this.registerMarkdownCodeBlockProcessor("dataedit",async(t,n,r)=>{const o=Nf(this.app);n.empty(),n.classList.toggle("twcss",!0),n.parentElement.style.boxShadow="none";const{query:i,config:s}=Il(t),l=lt(),[a,c]=pt({}),d=il(()=>y(_f,{plugin:this,el:n,source:t,query:i,config:s,ctx:r,dataviewAPI:o,uid:l,queryResultStore:a,setQueryResultStore:c}),n),f=new ce.MarkdownRenderChild(n);f.register(()=>{d(),c(u=>(delete u[l],u))}),r.addChild(f)})}}module.exports=Vf;
